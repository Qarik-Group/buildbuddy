<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="BuildBuddy RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="BuildBuddy Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-156160991-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Blog | BuildBuddy</title><meta data-react-helmet="true" property="og:title" content="Blog | BuildBuddy"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:description" content="Blog"><meta data-react-helmet="true" property="og:url" content="https://www.buildbuddy.io/blog"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" name="description" content="BuildBuddy provides enterprise features for Bazel â€” the open source build system that allows you to build and test software 10x faster."><meta data-react-helmet="true" name="og:description" content="BuildBuddy provides enterprise features for Bazel â€” the open source build system that allows you to build and test software 10x faster."><meta data-react-helmet="true" property="og:image" content="https://www.buildbuddy.io/img/soc2.jpg"><meta data-react-helmet="true" name="twitter:image" content="https://www.buildbuddy.io/img/soc2.jpg"><link data-react-helmet="true" rel="icon" href="/img/favicon_black.svg"><link data-react-helmet="true" rel="canonical" href="https://www.buildbuddy.io/blog"><link data-react-helmet="true" rel="alternate" href="https://www.buildbuddy.io/blog" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://www.buildbuddy.io/blog" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.629ce926.css">
<link rel="preload" href="/assets/js/runtime~main.c25a455b.js" as="script">
<link rel="preload" href="/assets/js/main.0636f419.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="BuildBuddy Logo" class="themedImage_1VuW themedImage--light_3UqQ" height="32px" width="191px"><img src="/img/logo_white.svg" alt="BuildBuddy Logo" class="themedImage_1VuW themedImage--dark_hz6m" height="32px" width="191px"></div></a><a class="navbar__item navbar__link" target="_self" href="/pricing">Pricing</a><a href="https://github.com/buildbuddy-io/buildbuddy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a class="navbar__item navbar__link" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/introduction/">Docs</a><a href="https://app.buildbuddy.io/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Login<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://app.buildbuddy.io/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link sign-up"><span>Get Started<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--1"></div><main class="col col--8"><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3kJS"><a href="/blog/whats-new-in-bazel-5-0">What&#x27;s New in Bazel 5.0</a></h2><div class="margin-vert--md"><div class="heading_1SDJ"><div class="headingPhoto_1iKi"><a href="https://brentleyjones.com" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo undefined"><img src="https://avatars.githubusercontent.com/u/158658?v=4" alt="Brentley Jones"></a></div><div><span><a href="https://brentleyjones.com" target="_blank" rel="noopener noreferrer" class="authorName_3Kcr">Brentley Jones</a>, <span>Developer Evangelist @ BuildBuddy</span></span><time datetime="2022-01-19T12:00:00.000Z" class="blogPostDate_247f"><br>January 19, 2022<!-- --> <!-- --> Â· <!-- -->18 min read</time></div></div></div></header><div class="markdown"><p><a href="https://blog.bazel.build/2022/01/19/bazel-5.0.html" target="_blank" rel="noopener noreferrer">Bazel 5.0</a> includes <a href="https://github.com/bazelbuild/bazel/compare/4.2.2...5.0.0" target="_blank" rel="noopener noreferrer">nearly 3,000 changes</a> since 4.2.2.<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>
It&#x27;s the first major release since 4.0 was release in January of last year,
and it&#x27;s Bazel&#x27;s <a href="https://docs.bazel.build/versions/5.0.0/versioning.html" target="_blank" rel="noopener noreferrer">second LTS release</a>.
Since there were so many changes,
many of them quite impactful,
I felt I needed to review them all and provide a nice summary for y&#x27;all.
So that&#x27;s what I did ðŸ˜„.</p><p>The end result was quite big though,
so I&#x27;ve included a table of contents to allow easy navigation to the changes that interest you the most:</p><nav class="toc"><ul><li><a href="#command-line-flag-changes">Command-Line Flag Changes</a><ul><li><a href="#renamed">Renamed</a></li><li><a href="#default-values-changed">Default Values Changed</a></li><li><a href="#deprecated">Deprecated</a></li><li><a href="#no-op">No-Op</a></li><li><a href="#removed">Removed</a></li></ul></li><li><a href="#remote">Remote</a><ul><li><a href="#grpc">gRPC</a></li><li><a href="#remote-caching">Remote Caching</a></li><li><a href="#remote-execution">Remote Execution</a></li><li><a href="#build-event-service-bes">Build Event Service (BES)</a></li></ul></li><li><a href="#logging">Logging</a><ul><li><a href="#build-event-protocol-bep">Build Event Protocol (BEP)</a></li><li><a href="#timing-profile">Timing Profile</a></li><li><a href="#execution-log">Execution Log</a></li></ul></li><li><a href="#query">Query</a></li><li><a href="#dependency-management">Dependency Management</a></li><li><a href="#platforms-and-toolchains">Platforms and Toolchains</a></li><li><a href="#execution-platforms">Execution Platforms</a><ul><li><a href="#linux">Linux</a></li><li><a href="#macos">macOS</a></li></ul></li><li><a href="#target-platforms">Target Platforms</a><ul><li><a href="#android">Android</a></li><li><a href="#apple">Apple</a></li></ul></li><li><a href="#languages">Languages</a><ul><li><a href="#c-and-c">C and C++</a></li><li><a href="#java">Java</a></li><li><a href="#objective-c">Objective-C</a></li></ul></li><li><a href="#rules-authoring">Rules Authoring</a><ul><li><a href="#aspects">Aspects</a></li><li><a href="#persistent-workers">Persistent Workers</a></li><li><a href="#starlark">Starlark</a></li></ul></li></ul></nav><h2 class="anchor anchorWithStickyNavbar_31ik" id="command-line-flag-changes">Command-Line Flag Changes<a class="hash-link" href="#command-line-flag-changes" title="Direct link to heading">â€‹</a></h2><p>Bazel&#x27;s <a href="https://docs.bazel.build/versions/5.0.0/versioning.html" target="_blank" rel="noopener noreferrer">LTS strategy</a> allows for breaking changes between major versions.
In particular,
it allows for command-line flags to be removed,
renamed,
made to do nothing,
or have their default values changed.
In the following sections I collected all such flag changes I could find.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="renamed">Renamed<a class="hash-link" href="#renamed" title="Direct link to heading">â€‹</a></h3><ul><li><a href="https://github.com/bazelbuild/bazel/commit/2ee3c2b3b60462b81a56fa396d5935ce02052f6d" target="_blank" rel="noopener noreferrer"><code>--incompatible_use_lexicographical_unordered_output</code> is now <code>--incompatible_lexicographical_output</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/374cb1f925430c5c75c690ba225f135a6095eb89" target="_blank" rel="noopener noreferrer"><code>--experimental_run_validations</code> is now <code>--run_validations</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/35182000bfc5303254008896481b1350c91c3256" target="_blank" rel="noopener noreferrer"><code>--experimental_existing_rules_immutable_view</code> is now <code>--incompatible_existing_rules_immutable_view</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/2b48c6b9a447756fcb3295b8a75899b96efa7fd4" target="_blank" rel="noopener noreferrer"><code>--project_id</code> is now <code>--bes_instance_name</code>.</a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="default-values-changed">Default Values Changed<a class="hash-link" href="#default-values-changed" title="Direct link to heading">â€‹</a></h3><ul><li><a href="https://github.com/bazelbuild/bazel/commit/de3b3caed60d47da7e6464478ec9eb814bc794db" target="_blank" rel="noopener noreferrer"><code>--analysis_testing_deps_limit=800</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/64d5bae3b805fad68e9f80512595702472f086f1" target="_blank" rel="noopener noreferrer"><code>--experimental_enable_aggregating_middleman=false</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/fa4e14b2aef03b93eef4de3239c57adcfdc7db99" target="_blank" rel="noopener noreferrer"><code>--experimental_exec_groups=true</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/5b216b27435aeb9eb9c3bd3c552d6498e1050cc7" target="_blank" rel="noopener noreferrer"><code>--experimental_forward_instrumented_files_info_by_default=true</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/0c1257ed4e1b83f8d0f6c79d641f6bfcf4d1cfc4" target="_blank" rel="noopener noreferrer"><code>--experimental_jlpl_enforce_strict_deps=true</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/06bd3e8c0cd390f077303be682e9dec7baf17af2" target="_blank" rel="noopener noreferrer"><code>--experimental_no_product_name_out_symlink=true</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f56b1349c84ea691b04e0fd40f28ef2373e2c855" target="_blank" rel="noopener noreferrer"><code>--experimental_profile_cpu_usage=true</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/38dd8aaa50fb2e4767c9388446a723c4ba231d86" target="_blank" rel="noopener noreferrer"><code>--experimental_skyframe_cpu_heavy_skykeys_thread_pool_size=HOST_CPUS</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/44e46b836a580c2fe3e96f39f4c6e02516ca4a0b" target="_blank" rel="noopener noreferrer"><code>--include_aspect=true</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/ef967be1718dd7662ed83ea7ef2899fc09576a8e" target="_blank" rel="noopener noreferrer"><code>--incompatible_disable_depset_items=true</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/fec2fdb1a4c39d1ac313a3b9d1286d9ff3db9e8e" target="_blank" rel="noopener noreferrer"><code>--incompatible_disallow_resource_jars=true</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/10b3479eacb692e5561cf6175fdf6138731178e3" target="_blank" rel="noopener noreferrer"><code>--incompatible_disallow_strict_deps_for_jlpl=true</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/32721fb6a1bba90e2d164e79dcec92f2a90d5cc0" target="_blank" rel="noopener noreferrer"><code>--incompatible_display_source_file_location=true</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/cfaa88b520a6a14b9d6fd5c1cb06ec8c2ce608db" target="_blank" rel="noopener noreferrer"><code>--incompatible_java_common_parameters=true</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/4b47d6f849bb2eca669f48cfdb5d1796100920f3" target="_blank" rel="noopener noreferrer"><code>--incompatible_override_toolchain_transition</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/1c062e26226d71c8e4d1fa9a72369880e867d5df" target="_blank" rel="noopener noreferrer"><code>--incompatible_require_javaplugininfo_in_javacommon=true</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/9a765c8b498a72e20af6c391bef01e794913c317" target="_blank" rel="noopener noreferrer"><code>--incompatible_top_level_aspects_dependency=true</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/c2485f67601cf7c79c5a49b29fb23194f7a7e9ab" target="_blank" rel="noopener noreferrer"><code>--incompatible_use_toolchain_resolution_for_java_rules=true</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/ebac27ec5a6063556482841da98d63d1abcf1e44" target="_blank" rel="noopener noreferrer"><code>--trim_test_configuration=true</code></a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="deprecated">Deprecated<a class="hash-link" href="#deprecated" title="Direct link to heading">â€‹</a></h3><ul><li><a href="https://github.com/bazelbuild/bazel/commit/a5127917b3aa0a4f64214d2203d5f0f396facb38" target="_blank" rel="noopener noreferrer"><code>--bep_publish_used_heap_size_post_build</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/ae2a6a2dc909e468a284913c410fde995cf51095" target="_blank" rel="noopener noreferrer"><code>--experimental_force_gc_after_build</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/88a02cdda6f854913ba01e5b2666eb27da828cd6" target="_blank" rel="noopener noreferrer"><code>--experimental_required_aspects</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/37115a5312fec952c4051e036ed1d1d08b053f09" target="_blank" rel="noopener noreferrer"><code>--{,no}experimental_send_archived_tree_artifact_inputs</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/b41576b2f5bb87f3817dfb1ee09493b8220a9634" target="_blank" rel="noopener noreferrer"><code>--experimental_spawn_scheduler</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/03bd0eb6ecd80f824ee8d5b028db96c43721a3b6" target="_blank" rel="noopener noreferrer"><code>--watchfs</code></a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="no-op">No-Op<a class="hash-link" href="#no-op" title="Direct link to heading">â€‹</a></h3><p>These flags now do nothing, but still exist to allow for migration off of them:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/7300231553b04828174f14e5840ed4e2d11dea72" target="_blank" rel="noopener noreferrer"><code>--all_incompatible_changes</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/d9a523ef5bc704c1aaf7e692f1f8ba9c449a8d86" target="_blank" rel="noopener noreferrer"><code>--bep_publish_used_heap_size_post_build</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/d623892380fdfd43f42bbbfce6b338624cbb3de4" target="_blank" rel="noopener noreferrer"><code>--check_constraint</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/ba258e8296ff7a110b32586a83ef9534f8e83d0e" target="_blank" rel="noopener noreferrer"><code>--experimental_cc_skylark_api_enabled_packages</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/cdeb49fd6a12b0d8e2ac1cbb228eaabbf2114554" target="_blank" rel="noopener noreferrer"><code>--experimental_force_gc_after_build</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/8d391642f2607e55931c4ec9abbd27376a07653b" target="_blank" rel="noopener noreferrer"><code>--{experimental_,}json_trace_compression</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/3e8cda19b7b82290d0e339731121279a41b393ea" target="_blank" rel="noopener noreferrer"><code>--experimental_shadowed_action</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/35ef799700e354231d7f589d19d0b5b5e4767fa9" target="_blank" rel="noopener noreferrer"><code>--experimental_skyframe_eval_with_ordered_list</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/6619d77d10415b3a65c434dfd16698634cdf5108" target="_blank" rel="noopener noreferrer"><code>--experimental_starlark_config_transitions</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/6ac6954224b2b74c18d3218dfa299424cbc944fb" target="_blank" rel="noopener noreferrer"><code>--experimental_multi_threaded_digest</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/3c5e531a30127b43a63e6bfa202de5e027def84a" target="_blank" rel="noopener noreferrer"><code>--experimental_profile_cpu_usage</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/af3add80ac6f243b6653dea093d9d083a9e575f9" target="_blank" rel="noopener noreferrer"><code>--incompatible_applicable_licenses</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/144a62a16e9dee54391d3ed8bb1a5597651d3223" target="_blank" rel="noopener noreferrer"><code>--incompatible_dont_collect_so_artifacts</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/253933f3adda134494a4f55838b3e16e54652f23" target="_blank" rel="noopener noreferrer"><code>--incompatible_load_python_rules</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/5b8f054dd20f506e2526ae3b7f89066a5aaca47e" target="_blank" rel="noopener noreferrer"><code>--incompatible_use_toolchain_resolution_for_java_rules</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/5b04895ec224b00f7924e15ad6a1b4f3a6e89539" target="_blank" rel="noopener noreferrer"><code>--legacy_dynamic_scheduler</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/b213637d406acfcef8f8ed926bff3ad15ba8c15f" target="_blank" rel="noopener noreferrer"><code>--use_singlejar_apkbuilder</code></a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="removed">Removed<a class="hash-link" href="#removed" title="Direct link to heading">â€‹</a></h3><ul><li><a href="https://github.com/bazelbuild/bazel/commit/166771ed928a6688d954a968c9343994fc83419d" target="_blank" rel="noopener noreferrer"><code>--apple_sdk</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/6555d957c68b0b9437217b5665e996ebc0f98e3b" target="_blank" rel="noopener noreferrer"><code>--bep_publish_used_heap_size_post_build</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/3135f49fbb7584b9487161401493edd98473f544" target="_blank" rel="noopener noreferrer"><code>--enable_apple_binary_native_protos</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/5a91c25ca43547870bcf73cf4b427277c7f62d8d" target="_blank" rel="noopener noreferrer"><code>--enable_runfiles</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/e68a7d01c7ed77ac1a8400216468eddf899a4af3" target="_blank" rel="noopener noreferrer"><code>--experimental_dynamic_configs</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/e95646972603d9f630ff69cca0b6cf75cd3373ee" target="_blank" rel="noopener noreferrer"><code>--experimental_enable_aggregating_middleman</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/3973b5f3573e223f259556938aa4adc8a9fd21cf" target="_blank" rel="noopener noreferrer"><code>--experimental_exec_groups</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/c411d9ac0714a669f8970b19a6086185fc2a1290" target="_blank" rel="noopener noreferrer"><code>--experimental_forward_instrumented_files_info_by_default</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/544b51da6d15f7446b4855a422b1d1924420f1ab" target="_blank" rel="noopener noreferrer"><code>--experimental_interleave_loading_and_analysis</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/359ceb4135ac69e7f861d16b8658c5768d720a2c" target="_blank" rel="noopener noreferrer"><code>--experimental_nested_set_as_skykey_threshold</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/b621b1b1866868a1dcb060fe7b6833df0c729761" target="_blank" rel="noopener noreferrer"><code>--experimental_no_product_name_out_symlink</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/427b4dd6b065b9b9c62add633413af897c01e612" target="_blank" rel="noopener noreferrer"><code>--experimental_objc_enable_module_maps</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/c1695ef7ecd5ca26721a97463d2f159234711da9" target="_blank" rel="noopener noreferrer"><code>--experimental_query_failure_exit_code_behavior</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/28a1e6e5fdc5567fa23ab2c7bf87eec5b9b78766" target="_blank" rel="noopener noreferrer"><code>--experimental_starlark_config_transitions</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/5752762930d69a57ec1c734b83e5d56ab9006704" target="_blank" rel="noopener noreferrer"><code>--experimental_ui_mode</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f0c6eab2582cefdb37b363c7f37c0b1b12bed76a" target="_blank" rel="noopener noreferrer"><code>--incompatible_enable_execution_transition</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/ed251187b078c4262bbbc1da72015ce12f9964f4" target="_blank" rel="noopener noreferrer"><code>--incompatible_ignore_duplicate_top_level_aspects</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/bcdd55d8956e22758fe3d866427e2dc3ebc4e31b" target="_blank" rel="noopener noreferrer"><code>--incompatible_objc_compile_info_migration</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/952c0d7615d931bd912ebf2c6ab5d3f43462891a" target="_blank" rel="noopener noreferrer"><code>--incompatible_objc_provider_remove_compile_info</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/e7202e3eef51f2dea5cd93f504c89060de6c9bb3" target="_blank" rel="noopener noreferrer"><code>--incompatible_prefer_unordered_output</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/aefd107e163087d7dbc822b3342455d91669a58e" target="_blank" rel="noopener noreferrer"><code>--incompatible_prohibit_aapt1</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f9db4fb91bf62a831e73bf09431619a361f0fcc5" target="_blank" rel="noopener noreferrer"><code>--incompatible_require_java_toolchain_header_compiler_direct</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/4d9c6f9eed87aa19798a445f37a270c571766c96" target="_blank" rel="noopener noreferrer"><code>--is_stderr_atty</code></a></li><li><a href="https://github.com/bazelbuild/bazel/commit/e1c404e1c87c4a5dec227b160c8c4e81686a3f9f" target="_blank" rel="noopener noreferrer"><code>--javabase</code> and <code>--java_toolchain</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="remote">Remote<a class="hash-link" href="#remote" title="Direct link to heading">â€‹</a></h2><p>One of Bazel&#x27;s most powerful features is its ability to use <a href="https://brentley.dev/bazels-remote-caching-and-remote-execution-explained/" target="_blank" rel="noopener noreferrer">remote caching and remote execution</a>.
Numerous improvements and fixes to Bazel&#x27;s remote capabilities are included in Bazel 5.0.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="grpc">gRPC<a class="hash-link" href="#grpc" title="Direct link to heading">â€‹</a></h3><p>Bazel uses gRPC as a protocol for most of its remote capabilities.
There were a couple changes that applied at this foundational level:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/a750a56f8f4061516ec3056ae8a8295ea8279903" target="_blank" rel="noopener noreferrer">Added mnemonic and label to remote cache and remote execution requests.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/b0ae0afd451bbe374be24c905579cece793b90c7" target="_blank" rel="noopener noreferrer">Bazel no longer crashes on errors returned while creating a gRPC connection.</a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="remote-caching">Remote Caching<a class="hash-link" href="#remote-caching" title="Direct link to heading">â€‹</a></h3><p>Using a remote cache is one of the most popular ways of speeding up a Bazel build.
Thankfully these changes make using a remote cache both more performant and more reliable:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/50274a9f714616d4735a560db7f617e53fb8d01b" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_remote_cache_compression</code> flag, which compresses gRPC uploads/downloads.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/7f08b7841fcf4c7d7d09b69f9ec1f24969aba8a1" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_remote_cache_async</code> flag, which makes uploads happen in the background.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/3947c836cf0c966882a1524e40fa8c3721ac5b07" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_remote_merkle_tree_cache</code> flag, which can speed up action cache hit checking.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/4e29042fd77eae565a711655df6150500cb6e915" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_action_cache_store_output_metadata</code> flag, which can speed up Remote Build without the Bytes after a Bazel server restart.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/bfc24139d93f8643686d91596ba347df2e01966a" target="_blank" rel="noopener noreferrer">Added the <code>no-remote-cache-upload</code> tag, which allows downloading, but not uploading, outputs from the remote cache.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/dc32f0b6a5d93e4c4426815cecddbc26c1f5d7ac" target="_blank" rel="noopener noreferrer">Reduced <code>FindMissingBlobs</code> calls when using a combined cache.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/db15e47d0391d904c29e6e5c632089e2479e62c2" target="_blank" rel="noopener noreferrer"><code>FindMissingBlobs</code> calls and file uploads are now deduplicated.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f94898915268be5670fb1e93a16c03e9b14d2a58" target="_blank" rel="noopener noreferrer">Fixed &quot;file not found&quot; errors when remote cache is changed from enabled to disabled.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/11066c7731b5a16f2f11db93f6716a1595650aad" target="_blank" rel="noopener noreferrer"><code>chmod 0555</code> is now consistently set on outputs.</a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="remote-execution">Remote Execution<a class="hash-link" href="#remote-execution" title="Direct link to heading">â€‹</a></h3><p>For some projects,
using remote execution is the ultimate performance unlock for their Bazel builds.
In addition to the remote caching changes covered above,
which also apply to remote execution,
the following changes improve the remote execution experience:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/1e42b94b1c35eca37f45c58c048b38e20bd812bc" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_dynamic_skip_first_build</code> flag, which skips dynamic execution until there has been a successful build.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/060d5966adf2c8035276cd1159601567bea57757" target="_blank" rel="noopener noreferrer">Improved debug output when using the <code>--experimental_debug_spawn_scheduler</code> flag.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/6080c1e07f4229ea72eacd04faa9302e44955a84" target="_blank" rel="noopener noreferrer">Improved performance of workers when using dynamic execution.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/04754efc1868df499b63cba341f7c90ad18aa425" target="_blank" rel="noopener noreferrer">Improved dynamic execution&#x27;s local execution delay logic.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/cf57d036c2e1b608ca902267fbbdfeb7ee5aa166" target="_blank" rel="noopener noreferrer">The disk cache can now be used with remote execution.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/713abde2576d7e3c3b584eed80097cd53c9cf082" target="_blank" rel="noopener noreferrer">Target-level <code>exec_properties</code> now merge with values from <code>--remote_default_exec_properties</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/399a5beb37a2620c9494f7eef774b99dc7ccab6d" target="_blank" rel="noopener noreferrer">Failure messages from remote execution are now propagated.</a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="build-event-service-bes">Build Event Service (BES)<a class="hash-link" href="#build-event-service-bes" title="Direct link to heading">â€‹</a></h3><p>Using a build event service can give you unparalleled insight into your Bazel builds at scale.
There were some nice changes to BES support,
though I think the improvements to how it interacts with the remote cache are especially noteworthy.</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/bfc24139d93f8643686d91596ba347df2e01966a" target="_blank" rel="noopener noreferrer">Added the <code>--incompatible_remote_build_event_upload_respect_no_cache</code> flag, which prevents the BES uploader from uploading the outputs of actions that shouldn&#x27;t be cached remotely.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/ef42d1365d0f508d3d817997b5049639a72100ab" target="_blank" rel="noopener noreferrer">Added the <code>--bes_header</code> flag, which allows passing extra headers to the BES server.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/71b50f6b4c6e462863c8433a163c9eb23b0c5730" target="_blank" rel="noopener noreferrer">Added logging when a blob upload isn&#x27;t uploaded in time.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/62060babcc26f3cac3db020e423daec8755fd426" target="_blank" rel="noopener noreferrer">The <code>--build_event_binary_file</code> flag now implies <code>--bes_upload_mode=wait_for_upload_complete</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/dc59d9e8f7937f2e317c042e8da8f97ba6b1237e" target="_blank" rel="noopener noreferrer">BES referenced blobs are no longer stored in the disk cache.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/e855a26691daeac81c1e823ad65c7707062e0bd2" target="_blank" rel="noopener noreferrer">The BES uploader now uses the same code as the remote cache uploader and is now more robust to errors.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/c51eb5730745017d008af9a49dcfcc975d7c0283" target="_blank" rel="noopener noreferrer">Fixed the BES uploader to handle errors in more edge cases.</a></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="logging">Logging<a class="hash-link" href="#logging" title="Direct link to heading">â€‹</a></h2><p>Bazel offers various ways to gain insight into your build.
It&#x27;s not too surprising then that there were over 30 changes to these capabilities in Bazel 5.0.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="build-event-protocol-bep">Build Event Protocol (BEP)<a class="hash-link" href="#build-event-protocol-bep" title="Direct link to heading">â€‹</a></h3><p>The build event protocol is used by <a href="#build-event-service-bes">build event services</a>,
so all of these changes could have also been listed in that section as well.
The BEP can also be collected locally with <a href="https://docs.bazel.build/versions/5.0.0/command-line-reference.html#flag--build_event_json_file" target="_blank" rel="noopener noreferrer"><code>--build_event_json_file</code></a> and <a href="https://docs.bazel.build/versions/5.0.0/command-line-reference.html#flag--build_event_binary_file" target="_blank" rel="noopener noreferrer"><code>--build_event_binary_file</code></a>.</p><p>The vast majority of changes added additional information to the BEP,
though some are fixes and improvements:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/77a980f3ec2496d3f952987e3eaf9df8560a114d" target="_blank" rel="noopener noreferrer">Added <code>cumulative_metrics</code> field to <code>BuildMetrics</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/c674101d004eccd795a06e19674e317b04b1b36a" target="_blank" rel="noopener noreferrer">Added <code>worker_metrics</code> field to <code>BuildMetrics</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f572d3ba1e6c977bace5c638da1628724f7b3e1f" target="_blank" rel="noopener noreferrer">Added <code>action_data</code> field to <code>BuildMetrics.ActionSummary</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/0a23a5e7867101f8c16fc4778802ed433ef107d3" target="_blank" rel="noopener noreferrer">Added <code>source_artifact_bytes_read</code> field to <code>BuildMetrics.ActionSummary</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/34b2947415eab54382921f917c8ffad5feedccb7" target="_blank" rel="noopener noreferrer">Added <code>analysis_phase_time_in_ms</code> field to <code>BuildMetrics.TimingMetrics</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/8965d25af90ba975cd207c84fa461b499d8d51c9" target="_blank" rel="noopener noreferrer">Added <code>garbage_metrics</code> field to <code>BuildMetrics.MemoryMetrics</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/dd8afa0fc79a7ff0fc0633eed6d592e0efd3bbfc" target="_blank" rel="noopener noreferrer">Added count and size of output files and top-level files seen during a build to <code>BuildMetrics.ArtifactMetrics</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/3e1ba0c3b8ef8588b0424291b498a555fe510d44" target="_blank" rel="noopener noreferrer">Added <code>incomplete</code> field to <code>TargetComplete.OutputGroup</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/8d481542111cff64ec28034bd71c83e54f2da28d" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_bep_target_summary</code> flag, which adds the <code>TargetSummary event</code>, which is intended to summarize all <code>TargetComplete</code> (including for aspects) and <code>TestSummary</code> messages for a given configured target.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/766cd0ed2906546b3d2c75771d65b15aeb07bb4e" target="_blank" rel="noopener noreferrer">Added <code>attempt_count</code> field to <code>TestSummary</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/7fb0c168f79658a5422607c67f31bcabb66158c6" target="_blank" rel="noopener noreferrer">Added test suite expansions.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/248792062f283866d9b93bf47b135309fd65c8c3" target="_blank" rel="noopener noreferrer">Added conflicting action output reporting.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f880948ec24efd08b2fde8213304192561c9ad61" target="_blank" rel="noopener noreferrer">Replaced <code>remote_cache_hits</code> field with a more detailed <code>runner_count</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/e5c832a16e475f636c845b0247731f65df5e258c" target="_blank" rel="noopener noreferrer">Timestamps and durations now use Well Known Types.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/bf31feb7b8a1428c2ad0e3a4e73c655e7582aa08" target="_blank" rel="noopener noreferrer">Improved reporting of Starlark build settings.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/3d585234f6b1861d174b21242cdfa48022464e82" target="_blank" rel="noopener noreferrer">The <code>used_heap_size_post_build</code> field is now populated when the <code>--memory_profile</code> flag is set.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/1c3bc902c5c93568f8f86125fe57580ba8186d04" target="_blank" rel="noopener noreferrer">Made <code>--bep_publish_used_heap_size_post_build</code> work for <code>query</code> and other non-<code>build</code> commands.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/fcf9dd50e27a1f77e1c30dfedaabc6118319e5e1" target="_blank" rel="noopener noreferrer">You can now assume the <code>named_set_of_files</code> event will appear before any event referencing that <code>named_set</code> by ID; this allows consumers to process the files for such events (eg. <code>TargetCompleted</code>) immediately.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/d2f93fd969f5eca042d029a1b8016d83ce8ce165" target="_blank" rel="noopener noreferrer">The BEP now includes all files from successful actions in requested output groups; previously, an output group&#x27;s files were excluded if any file in the output group was not produced due to a failing action.</a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="timing-profile">Timing Profile<a class="hash-link" href="#timing-profile" title="Direct link to heading">â€‹</a></h3><p>The action timing profile,
which is enabled by default with <a href="https://docs.bazel.build/versions/5.0.0/command-line-reference.html#flag--profile" target="_blank" rel="noopener noreferrer"><code>--profile</code></a>,
is viewable both <a href="https://docs.bazel.build/versions/5.0.0/skylark/performance.html#performance-profiling" target="_blank" rel="noopener noreferrer">locally in Chrome</a> and on <a href="#build-event-service-bes">build event services</a>.
These changes add more detail and clarity to the profile:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/f4fbbd653822ef7306f60144515e7ef551b2d39b" target="_blank" rel="noopener noreferrer">Added server heap usage.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/ec2eda1b56a5197ee2d019f58d89a68b17974b13" target="_blank" rel="noopener noreferrer">Added system CPU and memory metrics.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/45d82cadb52f9fa0ee23cf2c45eb1cd149587852" target="_blank" rel="noopener noreferrer">Added file system traversal tracing.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/559db4e9c35e5c0f840a26a80b171129044329c8" target="_blank" rel="noopener noreferrer">Added <code>mobile-install</code> tracing.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/786b418d1fcd1ad1df66237be45682624007ed2e" target="_blank" rel="noopener noreferrer">Added worker execution tracing.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/c5f87ea56a8b1f90525b8a6407dba8778524ca60" target="_blank" rel="noopener noreferrer">Renamed action count field from <code>cpu</code> to <code>action</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/a03674e6297ed5f6f740889cba8780d7c4ffe05c" target="_blank" rel="noopener noreferrer">Renamed &quot;grpc-command&quot; and &quot;Service Thread&quot; threads to &quot;Main Thread&quot; and &quot;Garbage Collector&quot;.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/fa9fabb3f699f1e8e8ebbe22228fc4acbc9df2ba" target="_blank" rel="noopener noreferrer">The profile now mentions when an action is acquiring resources.</a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="execution-log">Execution Log<a class="hash-link" href="#execution-log" title="Direct link to heading">â€‹</a></h3><p>Bazel logs all of the <a href="https://brentley.dev/bazels-remote-caching-and-remote-execution-explained/#spawns" target="_blank" rel="noopener noreferrer">spawns</a> it executes in the execution log,
which is enabled with the <a href="https://docs.bazel.build/versions/5.0.0/command-line-reference.html#flag--execution_log_json_file" target="_blank" rel="noopener noreferrer"><code>--execution_log_json_file</code></a> or <a href="https://docs.bazel.build/versions/5.0.0/command-line-reference.html#flag--execution_log_binary_file" target="_blank" rel="noopener noreferrer"><code>--execution_log_binary_file</code></a> flags.
This feature is relatively stable,
with just a single noticeable change:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/f92d80ce649a9abcb3e674a6e7c7eaf3b4f08ecd" target="_blank" rel="noopener noreferrer">Added wall time duration.</a></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="query">Query<a class="hash-link" href="#query" title="Direct link to heading">â€‹</a></h2><p><code>bazel build</code> wasn&#x27;t the only command to get improvements in this release.
Here are some changes that were made to the <code>query</code> family of commands:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/acbceddd97fb86dca96d0cd1ec45807335d7f7fc" target="_blank" rel="noopener noreferrer">Added the <code>--incompatible_lexicographical_output</code> flag (on by default), which lexicographically sorts the output of <code>query --order_output=auto</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/28ffaa259e1df63b64940344bb3b72999a8a1de6" target="_blank" rel="noopener noreferrer">Added the <code>--deduplicate_depsets</code> flag (on by default) to <code>aquery</code>, which removes duplicate subsets in <code>dep_set_of_files</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/a01371abaae4b2329877e25ff13d1a99e35034f1" target="_blank" rel="noopener noreferrer">Added <code>--keep_going</code> functionality to graphless <code>query</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/11c09c5254e6dc5e17016a17c345fe374b3d799d" target="_blank" rel="noopener noreferrer">Added execution platform information to <code>aquery</code> output.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/5dfffefef58da0c426cfa0b3d70132dde77950b0" target="_blank" rel="noopener noreferrer">Fixed output of <code>config_setting</code> visibility.</a></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="dependency-management">Dependency Management<a class="hash-link" href="#dependency-management" title="Direct link to heading">â€‹</a></h2><p>A new
(currently experimental)
external dependency system,
codenamed <a href="https://docs.bazel.build/versions/5.0.0/bzlmod.html" target="_blank" rel="noopener noreferrer">Bzlmod</a>,
was added in Bazel 5.0.
Besides for all of the changes needed to support Bzlmod,
there was one more notable dependency management related change:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/a1137ec1338d9549fd34a9a74502ffa58c286a8e" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_repository_downloader_retries</code> flag, which allows Bazel to retry certain repository download errors.</a></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="platforms-and-toolchains">Platforms and Toolchains<a class="hash-link" href="#platforms-and-toolchains" title="Direct link to heading">â€‹</a></h2><p>The C++, Android, and Apple rules are being migrated to support <a href="https://docs.bazel.build/versions/5.0.0/platforms-intro.html" target="_blank" rel="noopener noreferrer">building with Platforms</a>.
While <a href="https://github.com/bazelbuild/bazel/issues/6431#issuecomment-978329014" target="_blank" rel="noopener noreferrer">progress has been made</a>,
they don&#x27;t fully support it yet in Bazel 5.0.
For C++ projects,
it&#x27;s recommended that the <code>--incompatible_enable_cc_toolchain_resolution</code> flag is used,
to help the Bazel team discover any issues in the wide variety of projects that exist.</p><p>Here are some of the platforms and toolchains related changes which weren&#x27;t tied to any of those migrations:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/daecf427ec0bf0e963c324783062c4f5b61ff679" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_platform_in_output_dir</code> flag, which causes the output dir name to use a non-default platform name instead of the CPU.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/d052ececddf54587c576f876ce13d4b8f4aacb0b" target="_blank" rel="noopener noreferrer"><code>target_compatible_with</code> can now be used with all non-workspace rules.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/545befb13a64468377e3792a8f56c67cac245fa1" target="_blank" rel="noopener noreferrer">The <code>--toolchain_resolution_debug</code> flag now accepts regexes matching targets, as well as toolchain types, when choosing what debug messages to print.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/4b47d6f849bb2eca669f48cfdb5d1796100920f3" target="_blank" rel="noopener noreferrer">The toolchain transition is now enabled for all toolchains.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/8d66a4171baddcbe1569972f019e54130111202c" target="_blank" rel="noopener noreferrer">Progress is being made on changing all <code>host</code> configurations to <code>exec</code>.</a></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="execution-platforms">Execution Platforms<a class="hash-link" href="#execution-platforms" title="Direct link to heading">â€‹</a></h2><p>Execution platforms are <a href="https://docs.bazel.build/versions/5.0.0/platforms.html" target="_blank" rel="noopener noreferrer">platforms</a> which build tools execute on.
These include the host platform on which Bazel runs.</p><p>In the following sections I collected notable changes for Linux and macOS.
I&#x27;m sure there were some for Windows as well,
but since I don&#x27;t use Bazel on Windows,
none of the changes stood out to me as pertaining only to it.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="linux">Linux<a class="hash-link" href="#linux" title="Direct link to heading">â€‹</a></h3><p>I only noticed a single change that was directly related to Linux execution:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/11f7d8040fadc595589ee264561606dc2a83685d" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_use_hermetic_linux_sandbox</code> flag, which configures <code>linux-sandbox</code> to use a <code>chroot</code> environment.</a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="macos">macOS<a class="hash-link" href="#macos" title="Direct link to heading">â€‹</a></h3><p>On the other hand,
macOS had a lot of changes related to it:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/7484c98e871ab3fa3408be53873b8848861d26be" target="_blank" rel="noopener noreferrer">Added the <code>xcode_version_flag.precision</code> attribute to allow matching a subset of the version components.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/762f9e28f90b863064d81bdf61d3ad0e31084bc4" target="_blank" rel="noopener noreferrer">Added progress reporting in <code>xcode_configure</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/de5fc19b0956c900f2648b68a881fd3456c10e7e" target="_blank" rel="noopener noreferrer">Toolchain tools now compile as universal binaries if possible.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/6916fc1c4c49134ee76b9a725deddd1e6bcab24a" target="_blank" rel="noopener noreferrer"><code>xcode-locator</code> is now built as a universal binary.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/652d1cc233a49593767c01725974eb17b90dca4b" target="_blank" rel="noopener noreferrer">Sandboxed actions can now run <code>/bin/ps</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/4bef502e027238b56e30b787013a525dba0cde3d" target="_blank" rel="noopener noreferrer">If <code>--experimental_prefer_mutual_xcode</code> is passed, Bazel chooses the local default (instead of the newest mutually available version) if it&#x27;s available both locally and remotely.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f52e218d99e26298b69c838793bd80f9ae7a226d" target="_blank" rel="noopener noreferrer">Generated <code>xcode_version</code> targets now include product version aliases.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/aeec9a876b9c4f7cb54548f8855a2e938387b91e" target="_blank" rel="noopener noreferrer"><code>osx_archs.bzl</code> is now explicitly exported from the crosstool.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/b5bbe28ce207375009babc142fd3e8ce915d3dc9" target="_blank" rel="noopener noreferrer">Fixed typo in the cache directory name.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/48dd159808c5a874c4aabcd27d6e66610d41bb5a" target="_blank" rel="noopener noreferrer">Fixed <code>libtool</code> with params files.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/bb41ebc210989ca6aeaf4f776f4175c4b952e9fe" target="_blank" rel="noopener noreferrer">Fixed the <code>--experimental_prefer_mutual_xcode</code> flag not being used correctly for all parts of the build.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/1811e82ca4e68c2dd52eed7907c3d1926237e18a" target="_blank" rel="noopener noreferrer">Fixed a crash when a custom crosstool specifies a <code>DEVELOPER_DIR</code> environment variable.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/1bae172b8af8cd60dafada4be45e1cdffe9a763d" target="_blank" rel="noopener noreferrer">Fixed JSON output for <code>xcode-locator</code>.</a></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="target-platforms">Target Platforms<a class="hash-link" href="#target-platforms" title="Direct link to heading">â€‹</a></h2><p>Target platforms are <a href="https://docs.bazel.build/versions/5.0.0/platforms.html" target="_blank" rel="noopener noreferrer">platforms</a> which you are ultimately building for.
I cover the Android and Apple platforms in the following sections,
as they still have some functionality provided by Bazel core,
instead of being fully supported by standalone Starlark rules.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="android">Android<a class="hash-link" href="#android" title="Direct link to heading">â€‹</a></h3><ul><li><a href="https://github.com/bazelbuild/bazel/commit/909bec5afeec111a38d49d331ae24e7b8f041b5b" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_run_android_lint_on_java_rules</code> flag, which causes Java rules to invoke Android Lint.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/0ccbbde12e62773a69249372b9bcaa30ab223317" target="_blank" rel="noopener noreferrer">Added the <code>android_sdk.legacy_main_dex_list_generator</code> attribute.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/1c0194cc994d29b938d638e8625deaa19ffaf636" target="_blank" rel="noopener noreferrer">Added support for location expansion in the <code>java_toolchain.android_lint_opts</code> attribute.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/e41440e97c46a7f76a92e4b147eff02f1343451b" target="_blank" rel="noopener noreferrer">Added support for symlinks in Android SDK repositories.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/0e652737988e3c115e98e1552f6fada52bc2b9a2" target="_blank" rel="noopener noreferrer">The minimum Android build tools version for the Android rules is now 30.0.0.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f9df9d7318f51c1998c76bc50a5d48deacac5963" target="_blank" rel="noopener noreferrer"><code>--apk_signing_method</code> now accepts the value <code>v4</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/8f927d2e612263c78f6f4122f634434c29c71c85" target="_blank" rel="noopener noreferrer">Tags are now propagated to <code>AndroidBinary</code> actions.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/8465c173b97370704b277f12c6f827746c4abf4e" target="_blank" rel="noopener noreferrer"><code>aapt2 convert</code> is now used instead of relinking final APK as static lib.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/705b419f95060305de93e7861544bd73bb663f19" target="_blank" rel="noopener noreferrer">The <code>--no-proguard-location-reference</code> flag is now passed to <code>aapt2</code> when linking and generating proguard configurations.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/65dc407929eeb2372da65d3d4043dac9881f3235" target="_blank" rel="noopener noreferrer">Made Android Lint worker compatible.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/64ffc098a23a4d72726e2efbf590cb8002abeec2" target="_blank" rel="noopener noreferrer">Made <code>AarGeneratorAction</code> worker compatible.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/c6c63890460546c2d605812ad7e7baef19eb7100" target="_blank" rel="noopener noreferrer">Android Lint validations are now correctly propagated through <code>android_binary</code>&#x27;s split transition.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/c381a2745107a444c2b99888b7e91beee3c50993" target="_blank" rel="noopener noreferrer"><code>android_binary</code> now always uses the bytecode optimizer&#x27;s mnemonic.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/b4c637c5e3af145295ad3f4ca732c228ab6a88cf" target="_blank" rel="noopener noreferrer">Fixed Android API level support in NDK crosstools.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/85ab374bafbf4f8f4dff1700e477b5dc4e20ccc5" target="_blank" rel="noopener noreferrer">Fixed <code>AarResourcesExtractor</code> action to produce consistent zips.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/a38eb75865a0cb90b50fbcab65436be4fe830483" target="_blank" rel="noopener noreferrer">Fixed <code>--fat_apk_hwasan</code> when using <code>--{,android_}cpu</code> instead of <code>--fat_apk_cpu</code>.</a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="apple">Apple<a class="hash-link" href="#apple" title="Direct link to heading">â€‹</a></h3><ul><li><a href="https://github.com/bazelbuild/bazel/commit/c1ea2d4b9cb6afa33eabba285f7c962c2f954e23" target="_blank" rel="noopener noreferrer">Added support for the Apple Silicon iOS simulator.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/9c1c622fed219cb6b9c0656ebe4a4f3c117029b9" target="_blank" rel="noopener noreferrer">Added support for the Apple Silicon watchOS simulator.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/6345c806ad81f29b390d67ce6e1510b47bf82ddd" target="_blank" rel="noopener noreferrer">Added the <code>--host_macos_minimum_os</code> flag.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f53c389dbd4b0ae66307e9bd4a72b36b3d284ec3" target="_blank" rel="noopener noreferrer">Added support for LLVM BC files.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/65e9732c7d2a791ed2d6f9e90c8279acdbf1096f" target="_blank" rel="noopener noreferrer">Added the <code>--incompatible_disable_native_apple_binary_rule</code> flag, which disables the native <code>apple_binary</code> rule.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/ca5f67f9a73d3be20539c923a655997680328fc3" target="_blank" rel="noopener noreferrer">When building an iOS target it now defaults to the Apple Silicon iOS simulator when building on an Apple Silicon host.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/3114e806c33df3f1a9555f463dd17f028eef80c6" target="_blank" rel="noopener noreferrer">Made <code>-c opt</code> strip dead code by default.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/073ae810e4f61f56f68a31d5ee95f18633d176cc" target="_blank" rel="noopener noreferrer">Timestamps are now disabled in linking actions.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/3439a52cd6cc92420fa8f21c5910e750b01c18c7" target="_blank" rel="noopener noreferrer"><code>--apple_bitcode=embedded</code> now applies to <code>cc_library</code> targets.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/ec5553352f2f661d39ac4cf665dd9b3c779e614c" target="_blank" rel="noopener noreferrer">Removed support for &quot;nodeps&quot; dynamic libraries.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/066fba3486d8d395cb67720888bd8258a5ffc83a" target="_blank" rel="noopener noreferrer">Lipo operations are now conditional with the <code>linkMultiArchBinary</code> Apple binary Starlark API.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/3ece10a9d6ea2236d8780f5ffe623d6374d4dc4a" target="_blank" rel="noopener noreferrer"><code>--apple_crostool_top</code> is now preserved in host/exec transitions.</a></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="languages">Languages<a class="hash-link" href="#languages" title="Direct link to heading">â€‹</a></h2><p>While there are lots of programming languages that are supported through standalone Starlark rules,
some are still written as &quot;native&quot; rules in Bazel core,
or are bundled Starlark rules while <a href="#starlark">Starlarkification</a> is in progress.
In the following sections I summarize the notable changes in support of these languages.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="c-and-c">C and C++<a class="hash-link" href="#c-and-c" title="Direct link to heading">â€‹</a></h3><ul><li><a href="https://github.com/bazelbuild/bazel/commit/c750c529ab0646e40c60f645f51d468155418269" target="_blank" rel="noopener noreferrer">Added support for CUDA header file type (.cuh).</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/ad0382340ab4ffb4832c11cb92ec68755ef0eec2" target="_blank" rel="noopener noreferrer">Added <code>.rlib</code> as an allowed extension for static libraries.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/28fc8a1f7f7524d1b730da2a41341ce4aa1fea35" target="_blank" rel="noopener noreferrer">Added support for location expansion in <code>cc_*.defines</code> attributes.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/26abd97974554887e9a4d140bf9f4800e23f1da8" target="_blank" rel="noopener noreferrer">Added the <code>cc_toolchain.target_transition_for_inputs</code> attribute.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/96afa0f01b49f8dfb4db02c1b2a6a60f3a846a01" target="_blank" rel="noopener noreferrer">Added native options for <code>cc_shared_library</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/fa69b78ff2ab4138b5ec3fcdeb23ba406f7f8227" target="_blank" rel="noopener noreferrer">Added <code>-g</code> in <code>per_object_debug_info</code> for Clang 12 and GCC 11.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f1531dc2ebfb2db721a94f6f19081fa89af536da" target="_blank" rel="noopener noreferrer">Added support for clang&#x27;s <code>libc++</code> to the Unix toolchain.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/00e30ca5968d42b4a1e42327fa683debc1063b89" target="_blank" rel="noopener noreferrer">Added support for LLD to the Unix toolchain.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/08936aecb96f2937c61bdedfebcf1c5a41a0786d" target="_blank" rel="noopener noreferrer">Added the <code>external_include_paths</code> feature, which disables warnings from external headers.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/c74ae11562c44a49accc33dfae85e74036344f38" target="_blank" rel="noopener noreferrer">Added the <code>--incompatible_enable_cc_test_feature</code> flag, which switches from the use of build variables to the feature of the same name.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f5196e2ce4e8e45ca49c271053dad8dd32be5080" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_cpp_compile_resource_estimation</code> flag, which estimates precise resource usage for local execution of <code>CppCompileAction</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/dc914c6822a785ce139e8fc8bdf12594835f5674" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_use_cpp_compile_action_args_params_file</code> flag, which causes <code>CppCompileAction</code> to write exposed <code>action.args</code> to a parameters file.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/c4357cf248612b2451b4337e44757c934de22d5c" target="_blank" rel="noopener noreferrer">Added support for Starlark transitions on <code>--incompatible_enable_cc_toolchain_resolution</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/e2915a8fe56b1917510a922b71238c1b51a8972f" target="_blank" rel="noopener noreferrer">Added the <code>dynamic_mode</code> attribute to the <code>cpp</code> fragment.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/09cba3b5c80b28ac1fe2a5a312f8d3b41bf3eecd" target="_blank" rel="noopener noreferrer">C++ modules are no longer created if there are no modular headers.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/9a5bef9983848535c8a48f783700b580ec44df3f" target="_blank" rel="noopener noreferrer">Made the <code>abi_version</code> and <code>abi_glibc_version</code> attributes optional for cc toolchains.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/e8a95ca927fb49b81787df77ffd775340fe715f2" target="_blank" rel="noopener noreferrer">Made <code>gcov</code> optional in cc toolchains.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/5448c7c5460d7928013a438bd2b88bb811362df9" target="_blank" rel="noopener noreferrer">Renamed <code>target_transition_for_inputs</code> to <code>exec_transition_for_inputs</code> to better reflect the mechanism at play.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/9b4844a0ca3ee031c8b930c23d551da6a9050a85" target="_blank" rel="noopener noreferrer">The <code>oso_prefix_is_pwd</code> feature now applies to C++ link actions.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/03493609e8559aa3aab28d55b521a5bdb6e30b68" target="_blank" rel="noopener noreferrer">Fixed <code>CppCompileActionTemplate</code>&#x27;s handling of PIC.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/b571f2c1b9272a14710e15f719dff8af86b79f06" target="_blank" rel="noopener noreferrer">Fixed build failures when the same shared lib is depended on multiple times.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/ab1da7beb367147d7d2df17f53bbf0ed78118b69" target="_blank" rel="noopener noreferrer">Fixed C++ code coverage when using remote execution.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/503d56eda25b7e2a12431411bfb7ff286d028405" target="_blank" rel="noopener noreferrer">Fixed a performance issue when <code>cc_binary</code> depended on <code>cc_shared_library</code> targets.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/d3b3425be23917e5b126d54a2e224be3c3af55e9" target="_blank" rel="noopener noreferrer">Fixed a crash when feature configuration or cc toolchain were <code>None</code>.</a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="java">Java<a class="hash-link" href="#java" title="Direct link to heading">â€‹</a></h3><ul><li><a href="https://github.com/bazelbuild/bazel/commit/698c17ab7ea6f4617f1f35a6b3e3085e88c1693a" target="_blank" rel="noopener noreferrer">Upgraded JDK11.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/06f7340819f9eaf643d13400a1e279650caf6c56" target="_blank" rel="noopener noreferrer">Removed JDK14.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/e2ed2fd5cad34f0e97f117df391e255b59d96b63" target="_blank" rel="noopener noreferrer">Added JDK16.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/eb7bf8cd9b6e0eccc7eddcfd2f5d1fb10242c30f" target="_blank" rel="noopener noreferrer">Added JDK17.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/2a3e194ff5efa4b73b59bcb87ce894f46d95b882" target="_blank" rel="noopener noreferrer">Added support for Java versions with a single component.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/05d04464b1ceca115ceba4410195b0a967e39aeb" target="_blank" rel="noopener noreferrer">Added support for worker cancellation.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/26229fe7a04791a512cc1320ce84130e97afe565" target="_blank" rel="noopener noreferrer">Added support for record attributes to <code>ijar</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/70ae39015e25acec226835201b6dd70f55716280" target="_blank" rel="noopener noreferrer">Added support for sealed class attributes to <code>ijar</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/570f01968093d943b1f878f2cf57da4c20ba5355" target="_blank" rel="noopener noreferrer">Added the <code>--host_jvmopt</code> flag.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/a1b19dfa09abe6d7d3b62f2253e4bfa718aec089" target="_blank" rel="noopener noreferrer">Added the <code>javabuilder_data</code> and <code>turbine_data</code> attributes to <code>java_toolchain</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/15b1840a5f45584bab82eaf141dae082cc3ce780" target="_blank" rel="noopener noreferrer">Added the <code>http_jar.downloaded_file_path</code> attribute.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/120ea6cbd8da0865a1d8fc7c251c9072a346baab" target="_blank" rel="noopener noreferrer">Added mnenomic tags for java toolchain actions.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f73e28cd44d439e6bcecd73f45813ca13c352a93" target="_blank" rel="noopener noreferrer">Added <code>java_outputs</code> to <code>JavaPluginInfo</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/issues/7849" target="_blank" rel="noopener noreferrer">Java rules now use toolchain resolution.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/065e2e8e76c5bf21bd797f3c8baebe909e85a6cf" target="_blank" rel="noopener noreferrer">Java branch coverage now applies Jacocoâ€™s coverage filters.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/7e48642db90977d37531053775be5ac9083078b7" target="_blank" rel="noopener noreferrer">The local JDK is now attached to <code>JVM8_TOOLCHAIN_CONFIGURATION</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/903c2720792574321d3e3591ca14a9d287819cb7" target="_blank" rel="noopener noreferrer">Only JDK repositories that are needed are downloaded now.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/ca39c05b05527f83480852d26cd08be9bf0cba09" target="_blank" rel="noopener noreferrer"><code>java_test</code> now has the <code>requires-darwin</code> execution requirement on macOS.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/2a07fedf87eae77ce53bc6f0807cc41d1ac743ab" target="_blank" rel="noopener noreferrer">Removed <code>ABSOLUTE_JAVABASE</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/34cfab54485de9b1fc424bbc2dee19ed46942f2c" target="_blank" rel="noopener noreferrer">Removed the <code>jarFiles</code>, <code>resources</code> and <code>sourceJarsForJarFiles</code> attributes from <code>JavaSourceInfoProvider</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/4d54234df2711d52a80be053808a18852f6ff4ef" target="_blank" rel="noopener noreferrer">Removed the <code>JavaInfo.add_compile_time_jdeps</code> and <code>compile_time_jdeps</code> attributes.</a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="objective-c">Objective-C<a class="hash-link" href="#objective-c" title="Direct link to heading">â€‹</a></h3><ul><li><a href="https://github.com/bazelbuild/bazel/commit/d966a0d6eaab557065cf06b5a7b23299f01142a8" target="_blank" rel="noopener noreferrer">Added support for location expansion in the <code>objc_library.copts</code> attribute.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/31bec271b148a826f6d1a527e6c087e5b2d9333f" target="_blank" rel="noopener noreferrer">Swift module maps are no longer generated in <code>objc_library</code> and <code>objc_import</code> targets.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/1bf58436a8fca8c704c8738520cc6d33d4f73da0" target="_blank" rel="noopener noreferrer">Removed the <code>generate_dsym</code> method from the <code>objc</code> fragment.</a></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="rules-authoring">Rules Authoring<a class="hash-link" href="#rules-authoring" title="Direct link to heading">â€‹</a></h2><p>Bazel&#x27;s extensibility is powered by the ability to write custom <a href="https://docs.bazel.build/versions/5.0.0/skylark/rules.html" target="_blank" rel="noopener noreferrer">rules</a>.
Most rules used in a project will be provided by open source rule sets,
but projects may also define rules themselves.
Bazel 5.0 includes numerous changes that make custom rules more performant,
easier to write,
or even expand what is possible to do with them.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="aspects">Aspects<a class="hash-link" href="#aspects" title="Direct link to heading">â€‹</a></h3><p><a href="https://docs.bazel.build/versions/5.0.0/skylark/aspects.html" target="_blank" rel="noopener noreferrer">Aspects</a> allow augmenting build dependency graphs with additional information and actions.
These changes expanded their capabilities:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/60ebb105dbf34f0b267ea7573157246b4c9bfcaf" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_enable_aspect_hints</code> flag,.</a> <a href="https://github.com/bazelbuild/bazel/commit/a2856bf66f4b4c519861a994c6e09bd263f2a31e" target="_blank" rel="noopener noreferrer">which adds the <code>aspect_hints</code> attribute to rules.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f8c34080de1f9b935e3f6abf23b2a319e62c9052" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_required_aspects</code> flag, which allows aspects to depend on other aspects.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/ed251187b078c4262bbbc1da72015ce12f9964f4" target="_blank" rel="noopener noreferrer">Added the <code>--incompatible_top_level_aspects_dependency</code> flag, which allows top-level aspect dependencies.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/020dd5f1ee9c2c388644dbcd45cda4ebf6b42876" target="_blank" rel="noopener noreferrer">When using the <code>--allow_analysis_failures</code> flag (for example, via <code>bazel-skylib</code>&#x27;s <code>analysistest</code> with <code>expect_failure = True</code>), analysis-time failures in aspect implementation functions will now be propagated and saved in <code>AnalysisFailureInfo</code>, just like analysis-time failures in rules.</a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="persistent-workers">Persistent Workers<a class="hash-link" href="#persistent-workers" title="Direct link to heading">â€‹</a></h3><p><a href="https://docs.bazel.build/versions/5.0.0/persistent-workers.html" target="_blank" rel="noopener noreferrer">Persistent workers</a> improve build performance by sending multiple requests to long-running processes.
Here are some notable changes to persistent worker support:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/e0d6f8b00490a5e7973e74680e9e0ca3f19dc6e1" target="_blank" rel="noopener noreferrer">Added support for worker cancellation.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/40d33638c4abd0860006253b922e362bae05a238" target="_blank" rel="noopener noreferrer">Added the <code>verbosity</code> field to the worker protocol, primarily controlled by the <code>--worker_verbose</code> flag.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/299e50aae9d8c0b7f0d47aa2ce3d2658a3a80a94" target="_blank" rel="noopener noreferrer">JSON based workers now have their requests formatted according to the ndjson spec.</a></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="starlark">Starlark<a class="hash-link" href="#starlark" title="Direct link to heading">â€‹</a></h3><p><a href="https://youtu.be/7M9c6x3WgIQ?t=282" target="_blank" rel="noopener noreferrer">As mentioned at Bazelcon</a>,
progress is being made on migrating natives rules out of Bazel and into standalone Starlark rules.
In the Bazel 5.0 release progress was made on the Android, C++, Java, and Objective-C rules.</p><p>In addition to changes directly needed for Starlarkification,
for which there were many and I&#x27;m not going to list them here,
the Starlark language itself received performance and feature improvements:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/5ca20643e54e5cff1eb2939d044f86f96861176a" target="_blank" rel="noopener noreferrer">Added support for nested <code>def</code> statements.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/50ce3f973cbc96a0326560a31b736a4f0ca8dc62" target="_blank" rel="noopener noreferrer">Added support for lambda expressions.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/6e0050d81444cc09fca091cad4b105341c9e0e37" target="_blank" rel="noopener noreferrer">Added support for <code>allow_closure</code> in the <code>args.add_all</code> and <code>args.add_joined</code> methods.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/fbbac6b295b9ef0ea1999dc3ae9df29eceffbe88" target="_blank" rel="noopener noreferrer">Added support for augmented field assignment (<code>y.f += x</code>).</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/99b72266903d409c4eb9ebc852a4941cce7b0995" target="_blank" rel="noopener noreferrer">Added support for <code>%x</code>, <code>%X</code>, and <code>%o</code> conversions in <code>string % number</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/3e459679f158afca39286d8a37179e4e5030ca43" target="_blank" rel="noopener noreferrer">Added 64-bit integer support to <code>StarlarkInt.{floordiv,mod}</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/bfa364346890eb7950edb002877d569695544d48" target="_blank" rel="noopener noreferrer">Added support for some subsitutions in action progress messages.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/a13f590b69bcbcaa10b1a49bfd9a4607dfbd8f47" target="_blank" rel="noopener noreferrer">Added support for string build settings which accept multiple values.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/d1619b7833461b3e4faf1a9585c0ab6950432a35" target="_blank" rel="noopener noreferrer">Starlark rules can now use native transitions in the <code>cfg</code> parameter.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/8f97db114c7a60cc53db0d5bf1555bc580d554a0" target="_blank" rel="noopener noreferrer">Optimized <code>str(int)</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/0ebb269454722f715dbdaba9ef14c21c11c6fd5f" target="_blank" rel="noopener noreferrer">Optimized <code>() + tuple</code> and <code>tuple + ()</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/9d3f2257ba5a97a21c9b3cc0680494c0816c793f" target="_blank" rel="noopener noreferrer">Optimized long integer multiplication.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/fa421b82ceccc54004efd31071dc8c4350245be7" target="_blank" rel="noopener noreferrer">Optimized <code>&amp;</code>, <code>|</code>, <code>^</code>, and <code>~</code> for 64-bit integers.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/d7d7f82729dd62c5c39154140bf1c6a54abdfe84" target="_blank" rel="noopener noreferrer">Optimized <code>list(list)</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/5b4fb0219b289eb3bbd423748f5400aaab2ec1cb" target="_blank" rel="noopener noreferrer">Optimized Starlark transitions.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/dec8b5a8a0235fe726a4324ff5d02e3abe75a185" target="_blank" rel="noopener noreferrer">Optimized <code>--experimental_existing_rules_immutable_view</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/463e8c80cd11d36777ddf80543aea7c53293f298" target="_blank" rel="noopener noreferrer">Fixed <code>Label()</code> behavior when called with <code>@repo</code> parts.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/62582bd74d2a154e94a9e1e64fcbeeae22fbf88c" target="_blank" rel="noopener noreferrer">Propagated <code>DefaultInfo</code> no longer loses runfiles.</a></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="misc">Misc<a class="hash-link" href="#misc" title="Direct link to heading">â€‹</a></h2><p>There were a handful of changes that I couldn&#x27;t find a nice home for in the sections above,
but I still felt were important or interesting enough to call attention to:</p><ul><li><a href="https://github.com/bazelbuild/bazel/commit/79989f9becc2edefe8b35f7db687bf8de03e3580" target="_blank" rel="noopener noreferrer">Added the the <code>--incompatible_enforce_config_setting_visibility</code> flag, which makes <code>config_setting</code> honor the <code>visibility</code> attribute (defaulting to <code>//visibility:public</code>).</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f3513c16018be07255ee51c88bfdf2f77efa920f" target="_blank" rel="noopener noreferrer">Added the <code>--remove_all_convenience_symlinks</code> flag to the <code>clean</code> command, which deletes all symlinks in the workspace that have the <code>symlink_prefix</code> prefix and point into the output directory.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/d4390f81b306f3ae0b2f85c722965142e14dd356" target="_blank" rel="noopener noreferrer">Added the <code>--no-log-init</code> flag to docker sandbox.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/2f4ed67b2539762a36c4e0a28018d62ef8811477" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_keep_config_nodes_on_analysis_discard</code> flag (default on), which reduces long-running memory usage.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/1adb51287f5826ac1a8b469c417780c84ea4b467" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_reuse_sandbox_directories</code> flag, which causes reuse of already-created non-worker sandboxes with cleanup.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/16c040854db04fed900a1d3abb5ff6a4337a2028" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_skyframe_cpu_heavy_skykeys_thread_pool_size</code> flag, which causes the loading/analysis phase of Skyframe to use 2 independent thread pools.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/b5bfcc1ed0388fb5f0e3924d8fd33ea1bb3db0e1" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_oom_sensitive_skyfunctions_semaphore_size</code> flag, which configures the semaphore in <code>ConfiguredTagetFunction</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/309f4e1475efc08b20e406038d10eb30090fca82" target="_blank" rel="noopener noreferrer">Added the <code>--experimental_retain_test_configuration_across_testonly</code> flag, which skips configuration trimming when when <code>testonly</code> is <code>true</code> on non-test targets.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/0b51d431bd43010ed4dc56f30b83da20fdb21bc6" target="_blank" rel="noopener noreferrer">Test configurations are no longer trimmed when <code>--nodistinct_host_configuration</code> is on.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/3e6e97585dd41e31b6ca3bfe3bed10abc3614fe4" target="_blank" rel="noopener noreferrer">The <code>canonicalize-flags</code> command now inherits from the <code>build</code> command in order to pick up build-specified <code>--flag_alias</code> settings from rc files.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/06bd3e8c0cd390f077303be682e9dec7baf17af2" target="_blank" rel="noopener noreferrer">Bazel will no longer create a <code>bazel-out</code> symlink if <code>--symlink_prefix</code> is specified: the directory pointed to via the <code>bazel-out</code> symlink is accessible via <code>${symlink_prefix}-out</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/9e4216e0c8c6974f79c9fbea71bd9129b9439066" target="_blank" rel="noopener noreferrer">Set <code>TEST_RUN_NUMBER</code> when the test runs multiple times.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/f38e293317088396163115cec07099026d63533e" target="_blank" rel="noopener noreferrer">All (instead of just C++) source files are now filtered for coverage output according to <code>--instrumentation_filter</code> and <code>--instrument_test_targets</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/fa118ae4b5d58648db574a08a60d5595d6b645dd" target="_blank" rel="noopener noreferrer"><code>genrule.srcs</code> is now considered a source attribute for coverage.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/9015f383220892b638d47257ddbd407b2ea07055" target="_blank" rel="noopener noreferrer"><code>label_keyed_string_dict</code> attributes are now considered when gathering instrumented files for coverage.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/2945ef5072f659878dfd88b421c7b80aa4fb6c80" target="_blank" rel="noopener noreferrer">Changed <code>DEFAULT_STUB_SHEBANG</code> to use python3 instead of python.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/20061f8fb7ed95924c6cdbaaaf3d06a64edf974e" target="_blank" rel="noopener noreferrer">Added the default <code>solib</code> dir to the <code>rpath</code> for shared libs with transitions.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/0803ce4cbeb209689bb97f1b5107383ca201e2b6" target="_blank" rel="noopener noreferrer">Removed <code>//visibility:legacy_public</code>.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/7cf0c349b2e1675deea9519be4a805d8daff732e" target="_blank" rel="noopener noreferrer">Removed <code>--action_graph</code> from the dump command.</a></li><li><a href="https://github.com/bazelbuild/bazel/commit/557a7e71eeb5396f2c87c909ddc025fde2678780" target="_blank" rel="noopener noreferrer">Added some fixes for the Starlark transition hash computation.</a></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="summary">Summary<a class="hash-link" href="#summary" title="Direct link to heading">â€‹</a></h2><p>As you can see,
Bazel 5.0 was a <em>massive</em> release.
Thankfully,
through the <a href="https://blog.bazel.build/2021/06/15/bazel-rolling-releases.html" target="_blank" rel="noopener noreferrer">rolling releases</a> process,
people were able to test,
or even actively depend on,
these changes well before the first 5.0 release candidate was cut.</p><p>I expect Bazel 5.1 to be a fast follow with some changes that missed the final release candidate.
Work on Bazel 6.0 is well underway as well,
and I look forward to summarizing its changes later this year.</p><div class="footnotes"><hr><ol><li id="fn-1">The GitHub UI shows some commits that already exist in the 4.x series of releases due to cherry-picking,
so the number of unique commits is actually smaller.<a href="#fnref-1" class="footnote-backref">â†©</a></li></ol></div></div><footer class="row margin-vert--lg"><div class="tags_2aeM"><strong>Tags:</strong><a class="tag_3Sf8" href="/blog/tags/bazel">bazel</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3kJS"><a href="/blog/welcoming-brentley-jones">Welcoming Brentley Jones</a></h2><div class="margin-vert--md"><div class="heading_1SDJ"><div class="headingPhoto_1iKi"><a href="https://www.linkedin.com/in/siggisim/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo undefined"><img src="https://avatars.githubusercontent.com/u/1704556?v=4" alt="Siggi Simonarson"></a></div><div><span><a href="https://www.linkedin.com/in/siggisim/" target="_blank" rel="noopener noreferrer" class="authorName_3Kcr">Siggi Simonarson</a>, <span>Co-founder @ BuildBuddy</span></span><time datetime="2021-12-13T12:00:00.000Z" class="blogPostDate_247f"><br>December 13, 2021<!-- --> <!-- --> Â· <!-- -->1 min read</time></div></div></div></header><div class="markdown"><p>At BuildBuddy, our mission is to bring the world&#x27;s best developer tools to every company. A big part of that mission involves connecting engineers across different companies, sharing knowledge, and keeping an open dialog on best practices.</p><p>That&#x27;s why we&#x27;re so excited to share that <a href="https://brentleyjones.com" target="_blank" rel="noopener noreferrer"><strong>Brentley Jones</strong></a> has joined BuildBuddy as a Staff Developer Evangelist. His deep experience with Bazel at scale will directly benefit BuildBuddy users and customers.</p><p>Brentley is a maintainer of Bazel&#x27;s <a href="https://github.com/bazelbuild/rules_apple/blob/master/MAINTENANCE.md#maintainers" target="_blank" rel="noopener noreferrer">rules_apple</a> and <a href="https://github.com/bazelbuild/rules_swift/" target="_blank" rel="noopener noreferrer">rules_swift</a> which contain Bazel&#x27;s support for iOS, macOS, Swift, and more. He&#x27;s also a regular contributor to the <a href="https://slack.bazel.build/" target="_blank" rel="noopener noreferrer">Bazel Slack</a>, and the <a href="https://github.com/bazelbuild/bazel/issues?q=author%3Abrentleyjones" target="_blank" rel="noopener noreferrer">Bazel GitHub repo</a>.</p><p>Brentley joins us from Lyft, where he was a Staff Software Engineer on their Client Tooling team. Prior to Lyft, Brentley was an engineer at Target, where he led their migration to Bazel.</p><p><img src="/assets/images/welcome_brentley-cf30085978cf45f2426fcaf780411767.png"></p><p>We look forward to working alongside Brentley to build the future of developer tools.</p><p>Welcome to BuildBuddy, Brentley!</p></div><footer class="row margin-vert--lg"><div class="tags_2aeM"><strong>Tags:</strong><a class="tag_3Sf8" href="/blog/tags/company">company</a><a class="tag_3Sf8" href="/blog/tags/team">team</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3kJS"><a href="/blog/welcoming-lulu-zhang">Welcoming Lulu Zhang</a></h2><div class="margin-vert--md"><div class="heading_1SDJ"><div class="headingPhoto_1iKi"><a href="https://www.linkedin.com/in/siggisim/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo undefined"><img src="https://avatars.githubusercontent.com/u/1704556?v=4" alt="Siggi Simonarson"></a></div><div><span><a href="https://www.linkedin.com/in/siggisim/" target="_blank" rel="noopener noreferrer" class="authorName_3Kcr">Siggi Simonarson</a>, <span>Co-founder @ BuildBuddy</span></span><time datetime="2021-12-01T01:12:00.000Z" class="blogPostDate_247f"><br>December 1, 2021<!-- --> <!-- --> Â· <!-- -->1 min read</time></div></div></div></header><div class="markdown"><p>To fulfill our mission of bringing the world&#x27;s best developer tools to every company, we&#x27;re continually expanding our team to keep up with demand we&#x27;re seeing from customers. That&#x27;s why we&#x27;re excited to share today that <a href="https://www.linkedin.com/in/luluzhang66/" target="_blank" rel="noopener noreferrer"><strong>Lulu Zhang</strong></a> is joining BuildBuddy&#x27;s engineering team.</p><p>Lulu joins us from Thumbtack. Prior to Thumbtack, Lulu spent 5 years at Google where she worked on Google Play, Project Fi, and Area 120.</p><p><img src="/assets/images/welcome_lulu-77c9151548517e5ddc55fb2ca246ab63.png"></p><p>We look forward to working alongside Lulu to build the future of developer tools.</p><p>Welcome to BuildBuddy, Lulu!</p></div><footer class="row margin-vert--lg"><div class="tags_2aeM"><strong>Tags:</strong><a class="tag_3Sf8" href="/blog/tags/company">company</a><a class="tag_3Sf8" href="/blog/tags/team">team</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3kJS"><a href="/blog/buildbuddy-v2-7-0-release-notes">BuildBuddy v2.7.0 Release Notes</a></h2><div class="margin-vert--md"><div class="heading_1SDJ"><div class="headingPhoto_1iKi"><a href="https://www.linkedin.com/in/siggisim/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo undefined"><img src="https://avatars.githubusercontent.com/u/1704556?v=4" alt="Siggi Simonarson"></a></div><div><span><a href="https://www.linkedin.com/in/siggisim/" target="_blank" rel="noopener noreferrer" class="authorName_3Kcr">Siggi Simonarson</a>, <span>Co-founder @ BuildBuddy</span></span><time datetime="2021-11-18T12:00:00.000Z" class="blogPostDate_247f"><br>November 18, 2021<!-- --> <!-- --> Â· <!-- -->4 min read</time></div></div></div></header><div class="markdown"><p>To celebrate Bazelcon 2021 (and <a href="https://opensourcelive.withgoogle.com/events/bazelcon2021?talk=bazel-in-the-cloud" target="_blank" rel="noopener noreferrer">our Bazelcon talk</a>), we&#x27;ve got a lot in store for you in this release! We&#x27;re excited to share that <strong>v2.7.0</strong> of BuildBuddy is live on both <a href="https://app.buildbuddy.io/" target="_blank" rel="noopener noreferrer">Cloud Hosted BuildBuddy</a> and open-source via <a href="https://github.com/buildbuddy-io/buildbuddy" target="_blank" rel="noopener noreferrer">Github</a>, <a href="https://github.com/buildbuddy-io/buildbuddy/blob/master/docs/on-prem.md#docker-image" target="_blank" rel="noopener noreferrer">Docker</a>, and <a href="https://github.com/buildbuddy-io/buildbuddy-helm" target="_blank" rel="noopener noreferrer">our Helm Charts</a>!</p><p>We&#x27;ve also updated <a href="https://www.buildbuddy.io/open-source-repos" target="_blank" rel="noopener noreferrer">the list of open source repositories that use BuildBuddy</a>. If you have an open source repo that&#x27;s using BuildBuddy, and would like to be included on the list - please fill out the quick form at the bottom of that page!</p><p>Thanks to everyone using open source, cloud-hosted, and enterprise BuildBuddy. We&#x27;ve made lots of improvements in this release based on your feedback.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="new-in-v270">New in v2.7.0<a class="hash-link" href="#new-in-v270" title="Direct link to heading">â€‹</a></h2><ul><li><p><strong>M1 Mac support</strong> - we now <a href="https://github.com/buildbuddy-io/buildbuddy/releases/tag/v2.7.0" target="_blank" rel="noopener noreferrer">publish</a> BuildBuddy executor binaries built for M1 Macs. These can be used with BuildBuddy Cloud&#x27;s <strong>Bring Your Own Executors</strong> feature, BuildBuddy managed Mac executors, or in a self-hosted RBE cluster.</p></li><li><p><strong>Build log improvements</strong> - the build log viewer is core to the BuildBuddy experience. We&#x27;ve made a ton of improvements in this release to make this log viewing experience even better. Build logs are now <strong>live</strong> and update much more frequently. You can also now <strong>search</strong> build logs with a built-in search bar, <strong>download</strong> the raw build log text, and even <strong>wrap</strong> long lines.</p></li></ul><p><img src="/assets/images/build_logs-1a26c5c13eefbcc800d4846b7b163b49.png"></p><ul><li><strong>Cache miss debugging UI</strong> - one of the requests we get most frequently is for help debugging remote cache misses. There&#x27;s a <a href="https://docs.bazel.build/versions/main/remote-execution-caching-debug.html" target="_blank" rel="noopener noreferrer">guide</a> in the Bazel documentation, but it can be cumbersome to follow. We&#x27;ve made this process easier by surfacing individual action cache misses directly on the BuildBuddy cache tab. This allows you to quickly dive into which targets and actions missed cache and compare them against previous builds. You can click on any of these action hashes to explore the action&#x27;s input files, environment variables, and command arguments. This is just the first step in making cache misses easier to debug - we&#x27;re working on making this process even easier.</li></ul><p><img src="/assets/images/cache_misses-9b7a5a500d6b5a914632315cbac9487f.png"></p><ul><li><strong>Member management &amp; roles</strong> - we&#x27;ve heard from many of the large organizations that we work with that they&#x27;d like to be able to limit which members of their organization are able to access certain BuildBuddy functionality - like editing organization settings. In order to support this, we&#x27;ve added a new member management UI on the BuildBuddy organization settings page. Here you can assign either <code>Admin</code> or <code>Developer</code> roles to members of your BuildBuddy organization.</li></ul><p><img src="/assets/images/members-b7b4c10d955dfb383da17e0b78937129.png"></p><ul><li><p><strong>Usage page</strong> - while our Trends page gives users great insight into how their build metrics are trending over time, it&#x27;s less useful for getting a sense of your total BuildBuddy usage for the current month (and previous months). We&#x27;ve introduced a new Usage page that allows you to get a quick glance of the metrics that are important for billing.
<img src="/assets/images/usage-75d7431154c8f09489f9d27360fe4375.png"></p></li><li><p><strong>And much much more</strong> - Every release comes packed with so many new features, performance improvements and bug fixes that we can&#x27;t get to them all. Here are some more highlights:</p><ul><li>Mac support for remote persistent workers</li><li>API improvements, including a build log download endpoint and target filtering by tag</li><li>Fixes for issues that can cause unnecessary BEP disconnects</li><li>Improvements to autoscaling scale-downs</li><li>Reduced memory footprint</li><li>New BEP live data export functionality</li><li>Flag overrides for platform properties for switching between pools without invalidating the cache</li><li>SAML quality of life improvements</li><li>Configurable executor docker image warm up</li><li>Support for Azure Storage as a storage backend</li><li>AWS WebIdentity authentication support</li><li>Private container registry support</li><li>A built-in Xcode locator in executors for discovering available Xcode versions</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="coming-soon">Coming soon!<a class="hash-link" href="#coming-soon" title="Direct link to heading">â€‹</a></h2><p>In addition to all of these great new features, we&#x27;ve also been laying the groundwork for some big new features that we&#x27;re working on:</p><ul><li>A new caching infrastructure that will enable far more flexibility in where and how cache artifacts are stored.</li><li>Mac support for <a href="https://blog.buildbuddy.io/blog/meet-buildbuddy-workflows/" target="_blank" rel="noopener noreferrer">BuildBuddy Workflows</a>.</li><li>A managed cloud Bazel service that uses <a href="https://firecracker-microvm.github.io/" target="_blank" rel="noopener noreferrer">Firecracker microVMs</a> to give you warm, incremental Bazel instances in the cloud (right next to your RBE cluster) that spin up in milliseconds.</li><li>A web-based code editor built on top of VSCode (similar to <a href="https://vscode.dev/" target="_blank" rel="noopener noreferrer">vscode.dev</a>) built entirely for Bazel that can kick off fully incremental RBE-enabled cloud Bazel builds &amp; tests. If you&#x27;re an ex-Googler who misses Cider <!-- -->â€”<!-- --> get excited!</li></ul><p>If you&#x27;re interested in any of these upcoming features and would like to try them out <!-- -->â€”<!-- --> <a href="https://buildbuddy.typeform.com/to/BZikT3Eu" target="_blank" rel="noopener noreferrer">sign up here for early access</a>!</p><p>That&#x27;s it for this release. Stay tuned for more updates!</p><p>As always, we love your feedback - join our <a href="https://slack.buildbuddy.io" target="_blank" rel="noopener noreferrer">Slack channel</a> or email us at <a href="mailto:hello@buildbuddy.io" target="_blank" rel="noopener noreferrer">hello@buildbuddy.io</a> with any questions, comments, or thoughts.</p></div><footer class="row margin-vert--lg"><div class="tags_2aeM"><strong>Tags:</strong><a class="tag_3Sf8" href="/blog/tags/product">product</a><a class="tag_3Sf8" href="/blog/tags/release-notes">release-notes</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3kJS"><a href="/blog/buildbuddy-v2-5-0-release-notes">BuildBuddy v2.5.0 Release Notes</a></h2><div class="margin-vert--md"><div class="heading_1SDJ"><div class="headingPhoto_1iKi"><a href="https://www.linkedin.com/in/siggisim/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo undefined"><img src="https://avatars.githubusercontent.com/u/1704556?v=4" alt="Siggi Simonarson"></a></div><div><span><a href="https://www.linkedin.com/in/siggisim/" target="_blank" rel="noopener noreferrer" class="authorName_3Kcr">Siggi Simonarson</a>, <span>Co-founder @ BuildBuddy</span></span><time datetime="2021-08-30T12:00:00.000Z" class="blogPostDate_247f"><br>August 30, 2021<!-- --> <!-- --> Â· <!-- -->4 min read</time></div></div></div></header><div class="markdown"><p>We&#x27;re excited to share that v2.5.0 of BuildBuddy is live on both <a href="https://app.buildbuddy.io/" target="_blank" rel="noopener noreferrer">Cloud Hosted BuildBuddy</a> and open-source via <a href="https://github.com/buildbuddy-io/buildbuddy" target="_blank" rel="noopener noreferrer">Github</a>, <a href="https://github.com/buildbuddy-io/buildbuddy/blob/master/docs/on-prem.md#docker-image" target="_blank" rel="noopener noreferrer">Docker</a>, and <a href="https://github.com/buildbuddy-io/buildbuddy-helm" target="_blank" rel="noopener noreferrer">our Helm Charts</a>!</p><p>Thanks to everyone using open source, cloud-hosted, and enterprise BuildBuddy. We&#x27;ve made lots of improvements in this release based on your feedback.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="new-in-v250">New in v2.5.0<a class="hash-link" href="#new-in-v250" title="Direct link to heading">â€‹</a></h2><ul><li><strong>The new global filter</strong> - BuildBuddy collects lots of build information across CI and local builds. In order to make navigating these builds easier, we&#x27;ve introduced a new global filter. The global filter allows you to filter by status and role on any page - with more options including user, repo, and branch coming soon.</li></ul><p><img src="/assets/images/global_filter-3178bb5ce27beae2d329f9d97829ec8a.png"></p><ul><li><strong>Date picker</strong> - To complement the new global filter, we&#x27;ve also added a date picker. The date picker allows you to select a time range and see builds, trends, etc. for exactly the time period you&#x27;re interested in.</li></ul><p><img src="/assets/images/date_picker-0f46318ddb09c89dda3c824dd64c3ad6.png"></p><ul><li><strong>Clickable trends</strong> - Now that you can filter any view by date, we&#x27;ve added a feature to the Trends page that allows you to click on a data point and be taken to a filtered view of builds from just that time period. As part of this change, the trends page now also respects your local time zone.</li></ul><p><img src="/assets/images/trends-eb184602b80b6c87c7f3dfb0e1ae7c3b.png"></p><ul><li><strong>Branch information</strong> - BuildBuddy now collects information about a build&#x27;s git branch in addition to the repo and commit info already collected. This makes it even easier to navigate your builds.</li></ul><p><img src="/assets/images/branch-d222883683a88e9890ab72d7bb1bbb05.png"></p><ul><li><strong>Light terminal theme</strong> - For those of you who suffer from eye strain when reading light text on dark backgrounds: we&#x27;ve heard your feedback. We&#x27;ve added a new light terminal theme that can be enabled in your personal settings.</li></ul><p><img src="/assets/images/light_terminal-984754c3d6ea30b5e03f158a394bff9b.png"></p><ul><li><strong>Improved flaky test support</strong> - Flaky tests can destroy developer productivity. To make them easier to deal with, we&#x27;ve added a new feature that calls out flaky tests &amp; timeouts more explicitly. We&#x27;ve also improved the behavior of our RBE to reduce flakes due to timeouts when caused by external factors like Docker image pulls.</li></ul><p><img src="/assets/images/flaky_test-3c9e478ded34f653686fee761b538996.png"></p><ul><li><strong>Remote executions tab</strong> - We&#x27;ve had a hidden feature for a while that allowed you to click on the <code>Remote execution on</code> label to see an overview of remotely executed actions for RBE builds. We&#x27;ve now promoted this feature to its own <code>Executions</code> tab. With this change come new features like search and filtering.</li></ul><p><img src="/assets/images/executions_tab-2673cb07615d444d20401143290c70c2.png"></p><ul><li><strong>Action input &amp; output files</strong> - When clicking on an individual remotely executed actions, we now have a new file viewer that allows you to navigate the input files of the action. You can click on any of these files (as well as any output files the action has) to download them from the remote cache.</li></ul><p><img src="/assets/images/file_tree-7e5a319297d73465af9bd1bf3dbb4bc5.png"></p><ul><li><strong>Action timing</strong> - The timing tab gives you a breakdown of execution timing from Bazel&#x27;s point of view, but there&#x27;s another story to tell from the remote executor&#x27;s point of view. Action pages now show a visual breakdown of time spent in queue, downloading inputs, executing, and uploading outputs for each remotely executed action.</li></ul><p><img src="/assets/images/action_timeline-84f6ed5070db6429e1b718a044ff859b.png"></p><ul><li><strong>Revamped settings page</strong> - We&#x27;ve revamped the settings page to make it easier to manage your BuildBuddy account.</li></ul><p><img src="/assets/images/settings-0b64eae8229c732016ac3d13e8c09c90.png"></p><ul><li><strong>And much much more</strong> - Every release comes packed with so many new features, performance improvements and bug fixes that we can&#x27;t get to them all. Here are some more highlights:<ul><li>Support for serving static files from a CDN</li><li>Support for MinIO as a storage backend</li><li>Buildkite links now link to the specific Buildkite job that spawned the invocation</li><li>Support for distributed tracing backends like Jaeger, Google Cloud Trace, and others</li></ul></li></ul><p>That&#x27;s it for this release. Stay tuned for more updates coming soon!</p><p>As always, we love your feedback - join our <a href="https://slack.buildbuddy.io" target="_blank" rel="noopener noreferrer">Slack channel</a> or email us at <a href="mailto:hello@buildbuddy.io" target="_blank" rel="noopener noreferrer">hello@buildbuddy.io</a> with any questions, comments, or thoughts.</p></div><footer class="row margin-vert--lg"><div class="tags_2aeM"><strong>Tags:</strong><a class="tag_3Sf8" href="/blog/tags/product">product</a><a class="tag_3Sf8" href="/blog/tags/release-notes">release-notes</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3kJS"><a href="/blog/meet-buildbuddy-workflows">Meet BuildBuddy Workflows</a></h2><div class="margin-vert--md"><div class="heading_1SDJ"><div class="headingPhoto_1iKi"><a href="https://www.linkedin.com/in/brandon-duffany-39b7217a" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo undefined"><img src="https://avatars.githubusercontent.com/u/2414826?v=4" alt="Brandon Duffany"></a></div><div><span><a href="https://www.linkedin.com/in/brandon-duffany-39b7217a" target="_blank" rel="noopener noreferrer" class="authorName_3Kcr">Brandon Duffany</a>, <span>Engineer @ BuildBuddy</span></span><time datetime="2021-06-30T12:00:00.000Z" class="blogPostDate_247f"><br>June 30, 2021<!-- --> <!-- --> Â· <!-- -->5 min read</time></div></div></div></header><div class="markdown"><p>Traditional <a href="https://en.wikipedia.org/wiki/Continuous_integration" target="_blank" rel="noopener noreferrer">CI systems</a>, like Jenkins, Travis, CircleCI, and BuildKite, are built around the concept of a pipeline. Pipelines allow you to specify a list of build/test steps to run for each commit or pull request to your repo. Pipelines are great because you can run many in parallel across multiple machines. Unfortunately, there are often dependencies between these pipelines, for example a build step that must be completed before a test step can begin.</p><p>Some tools, like <a href="https://docs.gitlab.com/ee/ci/pipelines/" target="_blank" rel="noopener noreferrer">GitLab Pipelines</a>, attempt to solve this problem by allowing you to specify dependencies between pipelines. This approach is better, but forces you to manually maintain the relationships between pipelines in a pile of YAML configuration files. As the number of dependencies grow, any sufficiently complex CI system <a href="https://gregoryszorc.com/blog/2021/04/07/modern-ci-is-too-complex-and-misdirected/" target="_blank" rel="noopener noreferrer">starts to resemble a build system</a>.</p><p>None of these pipeline-based approaches are well suited for Bazel&#x27;s approach to dependency management and remote build execution, which involves generating a <a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph" target="_blank" rel="noopener noreferrer">Directed Acyclic Graph</a> of all build and test actions. Bazel&#x27;s approach allows for optimal parallelization and caching of these actions. It also enables rebuilding and retesting only affected targets, saving both engineering time and compute resources.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="introducing-a-bazel-focused-ci-solution">Introducing a Bazel-focused CI Solution<a class="hash-link" href="#introducing-a-bazel-focused-ci-solution" title="Direct link to heading">â€‹</a></h2><p>In today&#x27;s <a href="https://github.com/buildbuddy-io/buildbuddy/releases/tag/v2.3.0" target="_blank" rel="noopener noreferrer">BuildBuddy v2.3 release</a>, which is now live on BuildBuddy Cloud, we&#x27;re launching <strong>BuildBuddy Workflows</strong>. BuildBuddy Workflows is a Continuous Integration (CI) solution for Bazel repositories hosted on GitHub (with support for other providers coming soon).</p><p>Like other CI solutions, Workflows give you the confidence that your code
builds successfully and passes all tests before you merge pull requests or
deploy a new release.</p><p>But because BuildBuddy Workflows were built for Bazel repos and tightly
integrated with BuildBuddy RBE and Remote Caching, they are <strong><em>really fast</em></strong>.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="how-fast-are-buildbuddy-workflows">How fast are BuildBuddy Workflows?<a class="hash-link" href="#how-fast-are-buildbuddy-workflows" title="Direct link to heading">â€‹</a></h2><p>We&#x27;ve used BuildBuddy Workflows on our own repos for the past few
months, comparing them side-by-side with our existing CI solution built on GitHub Actions with BuildBuddy RBE and Remote Caching enabled.</p><p>By leveraging warm, hosted, Bazel processes, as well as BuildBuddy&#x27;s
remote caching and execution, Workflows dramatically sped up our CI runs.
Compared to our previous solution (which used BuildBuddy RBE and Remote Caching on GitHub Runners), we reduced the median duration by nearly <strong>8X</strong> <!-- -->â€”<!-- --> with most CI runs completing in just a few seconds.</p><p>This overlapping histogram chart shows the complete picture. Note that
the majority of BuildBuddy workflow runs took 30 seconds or less, while
nearly all runs on GitHub Actions took at least 2 minutes and 15 seconds:</p><p><img alt="overlapping histogram comparing BuildBuddy and GitHub actions" src="/assets/images/workflows-5e3a4008b17abce93baa478089e90f9b.png"></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="how-did-we-make-buildbuddy-workflows-so-fast">How did we make BuildBuddy Workflows so fast?<a class="hash-link" href="#how-did-we-make-buildbuddy-workflows-so-fast" title="Direct link to heading">â€‹</a></h2><p>In addition to convenience and security, one of our main goals for Workflows
was to maximize performance, even for very large source repositories.</p><p>We did this in two main ways:</p><ol><li>Ensuring a <strong>fast network connection between Bazel and BuildBuddy&#x27;s RBE &amp; caching servers</strong>.</li><li>Running workflows against <strong>hosted, warm, Bazel instances</strong>.</li></ol><h3 class="anchor anchorWithStickyNavbar_31ik" id="fast-connection-to-buildbuddy-rbe">Fast connection to BuildBuddy RBE<a class="hash-link" href="#fast-connection-to-buildbuddy-rbe" title="Direct link to heading">â€‹</a></h3><p>In our experience, network latency is often the biggest bottleneck in many Bazel Remote Build Execution and Remote Caching setups.</p><p>The solution here was simple: run Workflows on executors in the same datacenters where BuildBuddy RBE and Cache nodes are deployed.</p><p>With GitHub actions or other CI solutions, the network connection might
be fast (particularly after the recent network optimizations we made in
<a href="/blog/introducing-buildbuddy-v2">BuildBuddy v2</a>) <!-- -->â€”<!-- --> but not nearly as fast
as having workflow runners on the same local network as BuildBuddy
itself.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="hosted-warm-bazel-instances">Hosted, Warm, Bazel instances<a class="hash-link" href="#hosted-warm-bazel-instances" title="Direct link to heading">â€‹</a></h3><p>Once you have a sufficiently fast RBE and Remote Caching setup, and have removed network bottlenecks <!-- -->â€”<!-- --> the CI bottleneck often becomes Bazel&#x27;s <a href="https://docs.bazel.build/versions/main/glossary.html#analysis-phase" target="_blank" rel="noopener noreferrer">analysis phase</a>.</p><p>By re-using warm Bazel processes when possible, we&#x27;re able to re-use Bazel&#x27;s analysis cache across CI runs of the same repo. This can save several minutes per build, depending on the size of your repository and the number of external dependencies being pulled in.</p><p>This is similar to how <a href="https://dl.acm.org/doi/pdf/10.1145/3395363.3397371" target="_blank" rel="noopener noreferrer">Google&#x27;s Build Dequeuing Service</a> performs workspace selection:</p><blockquote><p>A well-chosen workspace can increase the build speed by an
order of magnitude by reusing the various cached results from the
previous execution. <!-- -->[...]<!-- --> We have observed that builds that execute the same targets as a previous
build are effectively no-ops using this technique</p></blockquote><h2 class="anchor anchorWithStickyNavbar_31ik" id="how-do-i-use-buildbuddy-workflows">How do I use BuildBuddy Workflows?<a class="hash-link" href="#how-do-i-use-buildbuddy-workflows" title="Direct link to heading">â€‹</a></h2><p>BuildBuddy Workflows are launching today, in Beta, for all GitHub users. You can get started with BuildBuddy Workflows by checking out our <a href="https://docs.buildbuddy.io/docs/workflows-setup/" target="_blank" rel="noopener noreferrer">setup guide</a>.
If you&#x27;ve already linked your GitHub account to BuildBuddy, it&#x27;ll only take
about 30 seconds to enable Workflows for your repo <!-- -->â€”<!-- --> just select a repo
to link, and we&#x27;ll take care of the rest!</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="other-changes-in-buildbuddy-v23">Other changes in BuildBuddy v2.3<a class="hash-link" href="#other-changes-in-buildbuddy-v23" title="Direct link to heading">â€‹</a></h2><p>While the main focus of BuildBuddy v2.3 has been on launching BuildBuddy Workflows, the release also contains several other features, in addition to lots of bug fixes and performance improvements.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="dependency-graph-visualization">Dependency graph visualization<a class="hash-link" href="#dependency-graph-visualization" title="Direct link to heading">â€‹</a></h3><p>We added dependency graph visualizations for <code>bazel query</code> commands that use the <code>--output graph</code> parameter. This visualization is zoom-able and pan-able, and can render graphs with thousands of edges.</p><p>Here&#x27;s an example of a command you can run to generate a graph:</p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bazel query &#x27;//...&#x27; --output graph --bes_backend=cloud.buildbuddy.io --bes_results_url=https://app.buildbuddy.io/invocation/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>And the resulting output:</p><p><img alt="Bazel query dependency graph visualization" src="/assets/images/query_graph-ff815911e109abcfc4e56255bebfcdd4.png"></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="clickable-rbe-actions">Clickable RBE Actions<a class="hash-link" href="#clickable-rbe-actions" title="Direct link to heading">â€‹</a></h3><p>For actions executed with BuildBuddy Remote Build Execution, you can now click on individual actions to get the full set of command arguments, environment variables, execution metadata, output files, and more:</p><p><img alt="RBE actions view" src="/assets/images/clickable_rbe_actions-b84f3ec0c36dc979c413ba2c5c26c874.png"></p><p>That&#x27;s it for this release! As always, message us on <a href="https://buildbuddy.slack.com" target="_blank" rel="noopener noreferrer">Slack</a> or
<a href="https://github.com/buildbuddy-io/buildbuddy/issues/new" target="_blank" rel="noopener noreferrer">file an issue</a>
if you need help, run into any issues, or have feature requests!</p></div><footer class="row margin-vert--lg"><div class="tags_2aeM"><strong>Tags:</strong><a class="tag_3Sf8" href="/blog/tags/product">product</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3kJS"><a href="/blog/introducing-buildbuddy-v2">Introducing BuildBuddy v2</a></h2><div class="margin-vert--md"><div class="heading_1SDJ"><div class="headingPhoto_1iKi"><a href="https://www.linkedin.com/in/siggisim/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo undefined"><img src="https://avatars.githubusercontent.com/u/1704556?v=4" alt="Siggi Simonarson"></a></div><div><span><a href="https://www.linkedin.com/in/siggisim/" target="_blank" rel="noopener noreferrer" class="authorName_3Kcr">Siggi Simonarson</a>, <span>Co-founder @ BuildBuddy</span></span><time datetime="2021-05-27T12:00:00.000Z" class="blogPostDate_247f"><br>May 27, 2021<!-- --> <!-- --> Â· <!-- -->5 min read</time></div></div></div></header><div class="markdown"><p>Our mission at BuildBuddy is to make developers more productive. When we released the <a href="https://blog.buildbuddy.io/blog/meet-buildbuddy" target="_blank" rel="noopener noreferrer">first version</a> of BuildBuddy a little over a year ago, we were blown away by the demand for tools and techniques for speeding up common developer workflows like building, testing, and debugging code. We&#x27;ve been working hard ever since - using our own tools to build the next generation of developer tooling for all.</p><p>Today we&#x27;re excited to announce v2 of BuildBuddy! We&#x27;ve completely revamped our caching and remote build execution infrastructure to give our users and customers the one thing they care about above all else: <strong>speed</strong>.</p><p><img src="/assets/images/tensorflow-d56b1a4696515835a34dcbf98d03e96e.svg"></p><p>When optimizing the performance of a remote build execution system, there are 3 critical bottlenecks: Caching, Sandboxing, and Execution. We&#x27;ve made order of magnitude improvements in each of these areas, bringing clean, uncached build times for <a href="https://github.com/tensorflow/tensorflow" target="_blank" rel="noopener noreferrer">TensorFlow</a> (7,000+ actions) on BuildBuddy RBE down from 28 minutes last August to just <strong>3.47 minutes</strong> with BuildBuddy v2. This build takes over <strong>4 hours</strong> (250 min) on a 3.3GHz i7 Macbook Pro.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="caching">Caching<a class="hash-link" href="#caching" title="Direct link to heading">â€‹</a></h2><p>The biggest remote build execution bottleneck is right in the name: <strong>remote</strong>. This means we have to ship source files, tools, and other inputs needed to execute the build from the host machine to a remote cluster of build servers over the network.</p><p>In BuildBuddy v2, some of the many improvements in this area include:</p><ul><li>Completely revamped caching infrastructure for microsecond read/write latencies</li><li>Improved batch performance for quickly moving 100k+ small files</li><li>Load balancer optimizations to improve large file throughput</li></ul><p>For a more in-depth look at optimizing for high throughput and low latency, we highly recommend <a href="https://dropbox.tech/infrastructure/optimizing-web-servers-for-high-throughput-and-low-latency" target="_blank" rel="noopener noreferrer">this great article from the Dropbox Engineering team</a> which was incredibly helpful in identifying and fixing bottlenecks.</p><p>All of these improvements, when taken together, have driven a colossal improvement in both upload and download throughput across file sizes. We have more work to do in this area, but we&#x27;re really pleased with the results in this release.</p><p><img src="/assets/images/upload_throughput-998b9ba861afcbdbcb867a43961610cd.svg"></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="sandboxing">Sandboxing<a class="hash-link" href="#sandboxing" title="Direct link to heading">â€‹</a></h2><p>Once we&#x27;ve got all of the inputs we need to execute an action on a remote executor, the next step is to set up the execution root. One of Bazel&#x27;s core features is the ability to perform <a href="https://georgi.hristozov.net/2020/11/01/the-power-of-hermetic-builds" target="_blank" rel="noopener noreferrer">hermetic builds</a>. In order to achieve this, we spin up a clean Docker container for each action to execute in. This is similar to Bazel&#x27;s <code>docker</code> <a href="https://docs.bazel.build/versions/master/remote-execution-sandbox.html" target="_blank" rel="noopener noreferrer">spawn strategy</a>.</p><p>While this helps ensure that remotely executed actions are hermetic, there is often a trade-off between hermeticity and performance. You can make this trade-off locally using Bazel&#x27;s different spawn strategies: <code>sandboxed</code>, <code>local</code>, and <code>worker</code>.</p><p>When using remote build execution, you typically don&#x27;t have the ability to make these trade-offs. That&#x27;s why we&#x27;ve introduced 3 new features that give users back some of that control. By default, actions will still be executed in clean Docker images - but if you specify one of the following execution properties, you can alter that behavior:</p><ul><li><code>recycle-runner</code>: actions will still be executed in a clean execution root - but the executor will re-use an existing docker image from a pool of re-usable containers. This is similar in behavior to Bazel&#x27;s <code>sandboxed</code> execution strategy.</li><li><code>preserve-workspace</code>: actions will re-use an execution root from a pool of re-usable workspaces and only download inputs that have been added or changed since the previously executed action, while cleaning up any outputs. This is similar in behavior to Bazel&#x27;s <code>local</code> execution strategy.</li><li><code>persistent-workers</code>: the executor will use the <a href="https://docs.bazel.build/versions/master/persistent-workers.html" target="_blank" rel="noopener noreferrer">persistent-worker</a> protocol to communicate with actions that support them. This can help speed up certain build actions that support persist workers (like Java, Scala, Typescript, and others) by 2-4x. This execution property can be applied at the <a href="https://docs.buildbuddy.io/docs/rbe-pools#target-level" target="_blank" rel="noopener noreferrer">target level</a> for actions that support them. We&#x27;ve also added support for the proposed <code>persistentWorkerKey</code> execution property which removes the need for target-level specification. This is similar in behavior to Bazel&#x27;s <code>worker</code> execution strategy.</li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="execution">Execution<a class="hash-link" href="#execution" title="Direct link to heading">â€‹</a></h2><p>Now that we&#x27;ve got our inputs on the executor, and our execution root set up, our final step is the actual execution.</p><p>We&#x27;ve made significant improvements here as well:</p><ul><li>We&#x27;ve upgraded our default executor cluster to run on compute-optimized Intel Cascade Lake machines with up to 3.8 GHz sustained all-core turbo.</li><li>Our Mac executors now run on bare-metal Mac minis, which show huge improvements over the previous <a href="https://www.macstadium.com/orka" target="_blank" rel="noopener noreferrer">Orka</a> machines we used for I/O intensive workloads.</li><li>Our new caching and auto-scaling infrastructure supports scaling up and down from just a few executors to hundreds of machines depending on load while still supporting the <code>--remote_download_minimal</code> flag.</li><li>The groundwork has been laid for what we call <strong>Bring Your Own Executors</strong>. This will allow users to take advantage of BuildBuddy&#x27;s UI and global caching infrastructure while running their own executor pools.</li></ul><p><img src="/assets/images/autoscaling-1fdae7ba96917e938de9c60b1af0310e.png"></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="other-improvements">Other improvements<a class="hash-link" href="#other-improvements" title="Direct link to heading">â€‹</a></h2><p>While our focus for v2 has been on RBE performance, we&#x27;ve made plenty of other improvements in this release:</p><ul><li>Improved query performance for large customers with 1 million+ invocations</li><li>Added hinted handoff for write failures</li><li>Fetches are now displayed in the results UI</li><li>Timing tab improvements</li><li>Right click to copy downloadable artifact URLs</li><li>Lots and lots of reliability improvements</li><li>Default Xcode version configuration options</li></ul><p>We have several big announcements coming in the next few weeks, so stay tuned for more!</p><p>As always, we love your feedback - join our <a href="https://slack.buildbuddy.io" target="_blank" rel="noopener noreferrer">Slack channel</a> or email us at <strong><a href="mailto:hello@buildbuddy.io" target="_blank" rel="noopener noreferrer">hello@buildbuddy.io</a></strong> with any questions, comments, or thoughts.</p><p>Happy Building!</p></div><footer class="row margin-vert--lg"><div class="tags_2aeM"><strong>Tags:</strong><a class="tag_3Sf8" href="/blog/tags/product">product</a><a class="tag_3Sf8" href="/blog/tags/release-notes">release-notes</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3kJS"><a href="/blog/buildbuddy-achieves-soc-2-certification">BuildBuddy Achieves SOC 2 Certification</a></h2><div class="margin-vert--md"><div class="heading_1SDJ"><div class="headingPhoto_1iKi"><a href="https://www.linkedin.com/in/gli/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo undefined"><img src="https://avatars.githubusercontent.com/u/27219306?v=4" alt="George Li"></a></div><div><span><a href="https://www.linkedin.com/in/gli/" target="_blank" rel="noopener noreferrer" class="authorName_3Kcr">George Li</a>, <span>Head of Sales @ BuildBuddy</span></span><time datetime="2021-04-28T12:00:00.000Z" class="blogPostDate_247f"><br>April 28, 2021<!-- --> <!-- --> Â· <!-- -->1 min read</time></div></div></div></header><div class="markdown"><p>Our mission at BuildBuddy is to help developers be more productive. It&#x27;s our highest priority to make sure that your data is safe so that you can focus on what matters: building your product.</p><p>Today, weâ€™re excited to share that BuildBuddy has achieved SOC 2 certification.</p><p align="center"><img src="/img/soc2.jpg"></p><p>The audit was conducted by <a href="https://thecadencegroup.com/" target="_blank" rel="noopener noreferrer">The Cadence Group</a>, compliance specialists who have performed SOC reporting examinations for some of the largest software companies in the world. Our certification means that we adhere to the highest standards of security, processing integrity, and risk management.</p><p>Our SOC 2 Report outlines how we encrypt our customerâ€™s data, control access to our systems, scan for vulnerabilities, respond to incidents, and more.</p><p>In addition to completing our SOC 2 audit, we&#x27;ve partnered with <a href="https://www.vanta.com/products/soc-2" target="_blank" rel="noopener noreferrer">Vanta</a> to continuously monitor our SOC 2 compliance and ensure that the security practices we&#x27;ve put in place are being followed.</p><p>Weâ€™re happy to discuss our security policies in more detail or send over a copy of our SOC 2 report. Please feel free to reach out to us at <a href="mailto:security@buildbuddy.io" target="_blank" rel="noopener noreferrer">security@buildbuddy.io</a> for more information!</p></div><footer class="row margin-vert--lg"><div class="tags_2aeM"><strong>Tags:</strong><a class="tag_3Sf8" href="/blog/tags/company">company</a><a class="tag_3Sf8" href="/blog/tags/security">security</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3kJS"><a href="/blog/buildbuddy-v1-8-0-release-notes">BuildBuddy v1.8.0 Release Notes</a></h2><div class="margin-vert--md"><div class="heading_1SDJ"><div class="headingPhoto_1iKi"><a href="https://www.linkedin.com/in/siggisim/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo undefined"><img src="https://avatars.githubusercontent.com/u/1704556?v=4" alt="Siggi Simonarson"></a></div><div><span><a href="https://www.linkedin.com/in/siggisim/" target="_blank" rel="noopener noreferrer" class="authorName_3Kcr">Siggi Simonarson</a>, <span>Co-founder @ BuildBuddy</span></span><time datetime="2021-03-18T12:00:00.000Z" class="blogPostDate_247f"><br>March 18, 2021<!-- --> <!-- --> Â· <!-- -->3 min read</time></div></div></div></header><div class="markdown"><p>We&#x27;re excited to share that v1.8.0 of BuildBuddy is live on <a href="https://app.buildbuddy.io/" target="_blank" rel="noopener noreferrer">Cloud Hosted BuildBuddy</a>, Enterprise, and Open Source via <a href="https://github.com/buildbuddy-io/buildbuddy" target="_blank" rel="noopener noreferrer">GitHub</a>, <a href="https://github.com/buildbuddy-io/buildbuddy/blob/master/docs/on-prem.md#docker-image" target="_blank" rel="noopener noreferrer">Docker</a>, and <a href="https://github.com/buildbuddy-io/buildbuddy-helm" target="_blank" rel="noopener noreferrer">our Helm Charts</a>!</p><p>Thanks to everyone using open source, cloud-hosted, and enterprise BuildBuddy. We&#x27;ve made lots of improvements in this release based on your feedback.</p><p><strong>A special thank you to our new open-source contributor:</strong></p><ul><li><a href="https://github.com/ashleydavies" target="_blank" rel="noopener noreferrer"><strong>Ashley Davies</strong></a> who contributed several pull requests to our <a href="https://github.com/buildbuddy-io/buildbuddy-helm/" target="_blank" rel="noopener noreferrer">Helm charts</a> in order to make them easier to use in clusters that already have an Nginx controller deployed.</li></ul><p><strong>And a warm welcome to our three new team members!Â </strong></p><ul><li><a href="https://www.linkedin.com/in/pari-parajuli/" target="_blank" rel="noopener noreferrer"><strong>Pari Parajuli</strong></a> who joins our engineering team as an intern who&#x27;s currently studying at University of California, Berkeley.</li><li><a href="https://www.linkedin.com/in/vadimberezniker/" target="_blank" rel="noopener noreferrer"><strong>Vadim Berezniker</strong></a> who joins our engineering team after 7 years at Google on the Google Cloud team.</li><li><a href="https://www.linkedin.com/in/zoey-greer/" target="_blank" rel="noopener noreferrer"><strong>Zoey Greer</strong></a> who joins us as a software engineer from the Google Search team.</li></ul><p>We&#x27;re excited to continue growing BuildBuddy and fulfill our mission of making developers more productive!</p><p>Our focus for this release was on reliability, performance, improved documentation,Â and making BuildBuddy easier to release and monitor.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="new-in-v180"><strong>New in v1.8.0</strong><a class="hash-link" href="#new-in-v180" title="Direct link to heading">â€‹</a></h2><ul><li><strong>Read-only API keys</strong> - when using Bazel remote caching, teams often need to configure which machines have write access to the cache. While Bazel has some flags to control cache writes, using these can be error prone and insecure. BuildBuddy now makes this easy by introducing the ability to create both read-only and read+write api keys on your organization settings page. You can create as many API keys (and certificates) as you&#x27;d like and distribute them to your CI machines, workstations, and other endpoints.</li></ul><p><img src="/assets/images/read-only-36e28ec9b925ca0fdb2822bb446d401e.png"></p><ul><li><strong>Improved docs</strong> - we&#x27;ve completely revamped <a href="https://docs.buildbuddy.io/" target="_blank" rel="noopener noreferrer">our documentation</a> and added support for tables of contents, syntax highlighting, better navigation, dark mode (!!), interactive widgets, and an &quot;Edit this page&quot; button that links directly to the correct file in our <a href="https://github.com/buildbuddy-io/buildbuddy/tree/master/docs" target="_blank" rel="noopener noreferrer">GitHub docs directory</a> for submitting pull requests. With these great new features, we&#x27;ll be ramping up documentation on both new and existing BuildBuddy features to make the lives of BuildBuddy users easier.</li></ul><p><img src="/assets/images/docsv2-543ec66beba1ff8bfbbd932bb510d0d7.png"></p><ul><li><p><strong>Testing improvements</strong> - we&#x27;ve invested heavily in our testing infrastructure, adding new integration tests and test fixtures that make testing BuildBuddy&#x27;s interactions with Bazel easier. This will lead to more stable releases and faster iteration cycles going forward.</p></li><li><p><strong>Remote execution improvements</strong> - we&#x27;ve made more speed and reliability improvements to our remote build execution platform, including faster cache hit checking, faster auth checks, and better support for iOS builds.</p></li><li><p><strong>Buildkite integration -</strong> invocations that are kicked off from Buildkite now link back to the Buildkite job that triggered them.</p></li></ul><p><img src="/assets/images/buildkite-b7eb8a773a668b357c48e9f9aa9fd35c.png"></p><ul><li><strong>Grafana</strong> - our <a href="https://github.com/buildbuddy-io/buildbuddy-helm" target="_blank" rel="noopener noreferrer">Helm charts</a> make deploying BuildBuddy to Kubernetess cluster a breeze. One thing that&#x27;s been tricky for many users has been accessing the Prometheus data that BuildBuddy exports in an easily digestible format. To fix this, we made it easy to <a href="https://github.com/buildbuddy-io/buildbuddy-helm/tree/master/charts/buildbuddy-enterprise#example-with-prometheus--grafana" target="_blank" rel="noopener noreferrer">deploy Grafana and Prometheus</a> via our Helm charts with just a couple lines of configuration. It comes out of the box with a default dashboard that shows popular BuildBuddy metrics and can be easily extended to add more graphs.</li></ul><p><img src="/assets/images/grafana-ccbd1e8325f2a572401b7f6ee6919115.png"></p><ul><li><strong>More to come</strong> - we&#x27;ve been laying the groundwork for two major projects that will go live in the coming weeks to make building and testing your Bazel projects even faster.</li></ul><p>That&#x27;s it for this release. Stay tuned for more updates coming soon!</p><p>As always, we love your feedback - join our <a href="https://slack.buildbuddy.io" target="_blank" rel="noopener noreferrer">Slack channel</a> or email us at <strong><a href="mailto:hello@buildbuddy.io" target="_blank" rel="noopener noreferrer">hello@buildbuddy.io</a></strong> with any questions, comments, or thoughts.</p></div><footer class="row margin-vert--lg"><div class="tags_2aeM"><strong>Tags:</strong><a class="tag_3Sf8" href="/blog/tags/product">product</a><a class="tag_3Sf8" href="/blog/tags/release-notes">release-notes</a><a class="tag_3Sf8" href="/blog/tags/team">team</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3kJS"><a href="/blog/buildbuddy-v1-5-0-release-notes">BuildBuddy v1.5.0 Release Notes</a></h2><div class="margin-vert--md"><div class="heading_1SDJ"><div class="headingPhoto_1iKi"><a href="https://www.linkedin.com/in/siggisim/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo undefined"><img src="https://avatars.githubusercontent.com/u/1704556?v=4" alt="Siggi Simonarson"></a></div><div><span><a href="https://www.linkedin.com/in/siggisim/" target="_blank" rel="noopener noreferrer" class="authorName_3Kcr">Siggi Simonarson</a>, <span>Co-founder @ BuildBuddy</span></span><time datetime="2021-01-08T12:00:00.000Z" class="blogPostDate_247f"><br>January 8, 2021<!-- --> <!-- --> Â· <!-- -->3 min read</time></div></div></div></header><div class="markdown"><p>We&#x27;re excited to share that v1.5.0 of BuildBuddy is live on both <a href="https://app.buildbuddy.io/" target="_blank" rel="noopener noreferrer">Cloud Hosted BuildBuddy</a> and open-source via <a href="https://github.com/buildbuddy-io/buildbuddy" target="_blank" rel="noopener noreferrer">Github</a>, <a href="https://github.com/buildbuddy-io/buildbuddy/blob/master/docs/on-prem.md#docker-image" target="_blank" rel="noopener noreferrer">Docker</a>, and <a href="https://github.com/buildbuddy-io/buildbuddy-helm" target="_blank" rel="noopener noreferrer">our Helm Charts</a>!</p><p>Thanks to everyone using open source, cloud-hosted, and enterprise BuildBuddy. We&#x27;ve made lots of improvements in this release based on your feedback.</p><p>A special thank you to our new open-source contributor:</p><ul><li><a href="https://github.com/restingbull" target="_blank" rel="noopener noreferrer"><strong>Corbin McNeely-Smith</strong></a> who contributed to making our auth flow more resilient to error cases, and made our health-check handlers more flexible to support different load-balancers.</li></ul><p>Our focus for this release was on givingÂ users more visibility into test flakiness, monitoring &amp;Â scaling improvements, and security hardening.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="new-in-v150"><strong>New in v1.5.0</strong><a class="hash-link" href="#new-in-v150" title="Direct link to heading">â€‹</a></h2><ul><li><strong>Test flakiness dashboard</strong> - one of the feature requests we get most frequently from BuildBuddy users is the ability to collect target-level data and analyze it across invocations. Today we&#x27;re taking the first step in the direction with our new test dashboard. The test dashboard allows you to monitor per-target test statuses by commit - so you can quickly identify and fix flaky test targets that slow down developer velocity.Â It also has a timing view that gives you a heat-map to quickly identify slow targets.Â This is just the first step we&#x27;re taking in exposing more target-level data and are excited to build additional features based on your feedback!</li></ul><p><img src="/assets/images/test-grid-346ce65f57f45a6df6c17a3455231078.png"></p><ul><li><strong>Prometheus metrics</strong> - we&#x27;ve added a ton of new Prometheus metrics to BuildBuddy that allow open-source and Enterprise users to monitor not only BuildBuddy&#x27;s performance, but the overall health of their developer productivity efforts. This allows you to hook into existing monitoring and alerting tools like Grafana to analyze and get notified when your developers are experiencing issues.Â Metrics include build duration, cache hit &amp; miss rates, remote execution queue length, and more. For a full list of the new metrics we now expose, see our <a href="https://www.buildbuddy.io/docs/prometheus-metrics" target="_blank" rel="noopener noreferrer">Prometheus metric documentation</a>. Interested in some metrics that aren&#x27;t on this list? Let us know!</li></ul><p><img src="/assets/images/prometheus-f52d7632e8d52f53b3d3911540771682.png"></p><ul><li><strong>Auto-scaling</strong> - with the addition of our new Prometheus metrics, we&#x27;ve also made improvements to the autoscaling capabilities of BuildBuddy executors. Now in addition to scaling off of raw compute metrics like CPUÂ and RAM, BuildBuddy executors can also be configured to scale based on executor queue length and other custom metrics. This allows you to achieve better performance under heavy load while also managing your compute resources more efficiently and cost-effectively.</li></ul><p><img src="/assets/images/autoscaling-prometheus-f1b89a0b2571afaca6d7d7dc8efc7a85.png"></p><ul><li><p><strong>Security hardening</strong> - as part of our SOC 2 compliance controls, BuildBuddy undergoes regularly scheduled penetration tests by paid security professionals.Â This release contains fixes for all three non-critical findings from our January 2021 pen-test.</p></li><li><p><strong>Memory leak fixes</strong> - we found and fixed 2 memory leaks in our BuildBuddy app (using our new Prometheus metrics!) that would occasionally cause BuildBuddy app servers to restart due to memory pressure.</p></li><li><p><strong>Mac executor bug fix</strong> - we fixed a tricky bug caused by quirks in the way OSÂ X handles hard-linking that significantly improves the reliability of our Mac RBE executors.</p></li><li><p><strong>More bug fixes</strong> - there are lots of other bug fixes in this release including improved deadline and timeout handling, executor task scheduling improvements, and more!</p></li></ul><p>That&#x27;s it for this release. Stay tuned for more updates coming soon!</p><p>As always, we love your feedback - join our <a href="https://slack.buildbuddy.io" target="_blank" rel="noopener noreferrer">Slack channel</a> or email us at <a href="mailto:hello@buildbuddy.io" target="_blank" rel="noopener noreferrer">hello@buildbuddy.io</a> with any questions, comments, or thoughts.</p></div><footer class="row margin-vert--lg"><div class="tags_2aeM"><strong>Tags:</strong><a class="tag_3Sf8" href="/blog/tags/product">product</a><a class="tag_3Sf8" href="/blog/tags/release-notes">release-notes</a></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/page/2"><div class="pagination-nav__label">Older Entries<!-- --> <!-- -->Â»</div></a></div></nav></main><div class="col col--3"><div class="blog-sidebar"><div class="sidebar_2tcx thin-scrollbar"><h3 class="sidebarItemTitle_1XYP">Recent posts</h3><ul class="sidebarItemList_3OT0"><li class="sidebarItem_ic0g"><a class="sidebarItemLink_3PPN" href="/blog/whats-new-in-bazel-5-0">What&#x27;s New in Bazel 5.0</a></li><li class="sidebarItem_ic0g"><a class="sidebarItemLink_3PPN" href="/blog/welcoming-brentley-jones">Welcoming Brentley Jones</a></li><li class="sidebarItem_ic0g"><a class="sidebarItemLink_3PPN" href="/blog/welcoming-lulu-zhang">Welcoming Lulu Zhang</a></li><li class="sidebarItem_ic0g"><a class="sidebarItemLink_3PPN" href="/blog/buildbuddy-v2-7-0-release-notes">BuildBuddy v2.7.0 Release Notes</a></li><li class="sidebarItem_ic0g"><a class="sidebarItemLink_3PPN" href="/blog/buildbuddy-v2-5-0-release-notes">BuildBuddy v2.5.0 Release Notes</a></li><li class="sidebarItem_ic0g"><a class="sidebarItemLink_3PPN" href="/blog/meet-buildbuddy-workflows">Meet BuildBuddy Workflows</a></li><li class="sidebarItem_ic0g"><a class="sidebarItemLink_3PPN" href="/blog/introducing-buildbuddy-v2">Introducing BuildBuddy v2</a></li><li class="sidebarItem_ic0g"><a class="sidebarItemLink_3PPN" href="/blog/buildbuddy-achieves-soc-2-certification">BuildBuddy Achieves SOC 2 Certification</a></li><li class="sidebarItem_ic0g"><a class="sidebarItemLink_3PPN" href="/blog/buildbuddy-v1-8-0-release-notes">BuildBuddy v1.8.0 Release Notes</a></li><li class="sidebarItem_ic0g"><a class="sidebarItemLink_3PPN" href="/blog/buildbuddy-v1-5-0-release-notes">BuildBuddy v1.5.0 Release Notes</a></li></ul></div></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a href="/"><img alt="BuildBuddy Logo" src="/img/logo_white.svg" width="281px" height="32px" class="footer-logo"></a></li></ul></div><div class="col footer__col"><div class="footer__title">Product</div><ul class="footer__items"><li class="footer__item"><a href="https://app.buildbuddy.io" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Get Started<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/docs/introduction/">Documentation</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/pricing">Pricing</a></li><li class="footer__item"><a href="https://app.buildbuddy.io/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Login<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/privacy">Privacy Policy</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/terms">Terms of Service</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_self" href="/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/buildbuddy-io/buildbuddy/issues/new" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Report an Issue<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/contact">Contact Us</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/team">Team</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/careers">Careers</a></li></ul></div><div class="col footer__col"><div class="footer__title">Security</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_self" href="/security">Security Overview</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/security-updates">Security Updates</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/security-vulnerability-report">Report a Vulnerability</a></li></ul></div><div class="col footer__col"><div class="footer__title">Connect</div><ul class="footer__items"><li class="footer__item"><a href="http://slack.buildbuddy.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/buildbuddy_io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="http://linkedin.com/company/buildbuddy" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/buildbuddy-io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2022 Iteration, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c25a455b.js"></script>
<script src="/assets/js/main.0636f419.js"></script>
</body>
</html>